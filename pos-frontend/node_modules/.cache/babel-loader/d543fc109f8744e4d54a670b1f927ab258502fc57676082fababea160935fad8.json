{"ast":null,"code":"var _jsxFileName = \"/Users/oan/Desktop/POS/pos-frontend/src/components/admin/AdminSales.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport API from '../../services/api';\nimport { generateInvoice } from '../../utils/invoice';\nimport Sidebar from './Sidebar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORE_IDS = {\n  gaudi: 5,\n  paralel: 1,\n  mallorca: 3,\n  hospital: 7,\n  consell: 14\n};\nfunction AdminSales() {\n  _s();\n  const [sales, setSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [timeFilter, setTimeFilter] = useState('day');\n  const [todayRevenue, setTodayRevenue] = useState(0);\n  const [productStats, setProductStats] = useState([]);\n  const [selectedVat, setSelectedVat] = useState(0);\n  const [yesterdayRevenue, setYesterdayRevenue] = useState(0);\n  const [periodRevenue, setPeriodRevenue] = useState(0);\n  const navigate = useNavigate();\n  const {\n    store\n  } = useParams();\n\n  // For chart visualization - this would be populated from your API data\n  const [chartData, setChartData] = useState([]);\n  const fetchSales = useCallback(async () => {\n    try {\n      setLoading(true);\n\n      // Create filters based on the selected timeframe\n      let filters = {\n        'filters[store][id][$eq]': STORE_IDS[store]\n      };\n\n      // Add date filters based on timeFilter\n      if (timeFilter !== 'all') {\n        const now = new Date();\n        let startDate;\n        switch (timeFilter) {\n          case 'day':\n            startDate = new Date(now.setHours(0, 0, 0, 0));\n            break;\n          case 'yesterday':\n            startDate = new Date(now);\n            startDate.setDate(startDate.getDate() - 1);\n            startDate.setHours(0, 0, 0, 0);\n            const endDate = new Date(startDate);\n            endDate.setHours(23, 59, 59, 999);\n            filters['filters[Time][$gte]'] = startDate.toISOString();\n            filters['filters[Time][$lte]'] = endDate.toISOString();\n            break;\n          case 'week':\n            startDate = new Date(now);\n            startDate.setDate(startDate.getDate() - 7);\n            break;\n          case 'month':\n            startDate = new Date(now);\n            startDate.setDate(startDate.getDate() - 30);\n            break;\n          case '3months':\n            startDate = new Date(now);\n            startDate.setMonth(startDate.getMonth() - 3);\n            break;\n          case '12months':\n            startDate = new Date(now);\n            startDate.setFullYear(startDate.getFullYear() - 1);\n            break;\n          default:\n            break;\n        }\n\n        // Only add the gte filter if it's not the 'yesterday' case (which we already handled)\n        if (timeFilter !== 'yesterday' && startDate) {\n          filters['filters[Time][$gte]'] = startDate.toISOString();\n        }\n      }\n      const response = await API.get('/api/sales', {\n        params: {\n          ...filters,\n          'populate': {\n            'invoice': true,\n            'product': true,\n            '*': true\n          },\n          'sort': 'createdAt:desc'\n        }\n      });\n      const sortedSales = response.data.data.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n      setSales(sortedSales);\n    } catch (error) {\n      var _error$response;\n      console.error('Error fetching sales:', error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        localStorage.removeItem('jwtToken');\n        navigate('/login');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [store, timeFilter, navigate]);\n  const fetchProductStats = useCallback(async () => {\n    try {\n      // Get store-specific sales\n      const response = await API.get('/api/sales', {\n        params: {\n          'filters[store][id][$eq]': STORE_IDS[store],\n          'populate': ['product', 'store']\n        }\n      });\n      const storeSales = response.data.data;\n\n      // Map products to their stats (full list from ProductStats.jsx)\n      const stats = [{\n        id: 1,\n        name: \"Phone\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 3,\n        name: \"Laptop\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 5,\n        name: \"Funda\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 7,\n        name: \"Charger\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 9,\n        name: \"Figura\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 11,\n        name: \"Voda SIM\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 13,\n        name: \"Protector\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 15,\n        name: \"Hydrogel Protector\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 17,\n        name: \"Cordón\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 19,\n        name: \"BT Headphones\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 21,\n        name: \"BT Speaker\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 23,\n        name: \"Souvenir\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 25,\n        name: \"Headphones\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 27,\n        name: \"Cable\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 29,\n        name: \"Cargador Set\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 31,\n        name: \"Power Bank\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 33,\n        name: \"Recarga\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 35,\n        name: \"Print\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 37,\n        name: \"Adapter\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 39,\n        name: \"Gafas\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 41,\n        name: \"Repair\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 43,\n        name: \"Data transfer\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 45,\n        name: \"Smartwatch\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 47,\n        name: \"Lyca SIM\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 49,\n        name: \"Raton\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 51,\n        name: \"Watch Strap\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 53,\n        name: \"USB Drive\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 55,\n        name: \"Drink\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 57,\n        name: \"Umbrella\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 59,\n        name: \"Car Phone Mount\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 61,\n        name: \"Shave Machine\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 63,\n        name: \"Funda headphone\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 65,\n        name: \"iPad\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 67,\n        name: \"iPad funda\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 69,\n        name: \"Macbook protector\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 71,\n        name: \"Anime shirt\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 73,\n        name: \"PC\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 75,\n        name: \"Keyboard\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 77,\n        name: \"Laptop (not MacBook)\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 79,\n        name: \"iMac\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 82,\n        name: \"Lyca SIM\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 85,\n        name: \"Selfie Stick\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 87,\n        name: \"OTG\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 89,\n        name: \"Pilas\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 91,\n        name: \"Soporte\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 93,\n        name: \"SD Card\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 95,\n        name: \"Dryer\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 97,\n        name: \"Plancha\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 99,\n        name: \"Mando\",\n        count: 0,\n        totalRevenue: 0\n      }, {\n        id: 101,\n        name: \"Trimmer\",\n        count: 0,\n        totalRevenue: 0\n      }];\n\n      // Process each sale\n      storeSales.forEach(sale => {\n        var _sale$product;\n        const productId = (_sale$product = sale.product) === null || _sale$product === void 0 ? void 0 : _sale$product.id;\n        const price = parseFloat(sale.Price || 0);\n        const productStat = stats.find(s => s.id === productId);\n        if (productStat) {\n          productStat.count += 1;\n          productStat.totalRevenue += price;\n        }\n      });\n\n      // Sort by revenue\n      stats.sort((a, b) => b.totalRevenue - a.totalRevenue);\n      setProductStats(stats);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }, [store]);\n\n  // Update the chart data generation function to show 30 days\n  const generateChartData = useCallback(() => {\n    if (!sales || sales.length === 0) return [];\n\n    // Create a date map for the last 30 days\n    const dateMap = {};\n    const today = new Date();\n\n    // Initialize empty data for the last 30 days\n    for (let i = 29; i >= 0; i--) {\n      const date = new Date(today);\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toLocaleDateString('es-ES');\n      dateMap[dateStr] = 0;\n    }\n\n    // Fill in actual data\n    sales.forEach(sale => {\n      if (!sale.Time) return;\n      const date = new Date(sale.Time);\n      const daysDiff = Math.floor((today - date) / (1000 * 60 * 60 * 24));\n      if (daysDiff <= 29) {\n        // Only include last 30 days\n        const dateStr = date.toLocaleDateString('es-ES');\n        dateMap[dateStr] = (dateMap[dateStr] || 0) + parseFloat(sale.Price || 0);\n      }\n    });\n\n    // Convert to array for chart display\n    return Object.keys(dateMap).map(date => ({\n      date,\n      amount: dateMap[date]\n    }));\n  }, [sales]);\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n\n    // Configure API token\n    API.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n    // Only fetch data if we have a valid token\n    fetchSales();\n    if (store) {\n      fetchProductStats();\n    }\n  }, [store, timeFilter, fetchSales, fetchProductStats, navigate]);\n  useEffect(() => {\n    // Add chart data generation to your existing useEffect\n    if (sales && sales.length > 0) {\n      setChartData(generateChartData());\n    }\n  }, [sales, generateChartData]);\n  const handleDownloadInvoice = async sale => {\n    // Find related sales either by orderGroupId or by time (within 1 second)\n    let relatedSales;\n    if (sale.orderGroupId) {\n      // If orderGroupId exists, use it\n      relatedSales = sales.filter(s => s.orderGroupId === sale.orderGroupId);\n    } else {\n      // Fallback to time-based grouping for older sales\n      const saleTime = new Date(sale.Time).getTime();\n      relatedSales = sales.filter(s => {\n        const timeDiff = Math.abs(new Date(s.Time).getTime() - saleTime);\n        return timeDiff < 1000;\n      });\n    }\n    console.log('Related sales:', relatedSales);\n    if (relatedSales.length === 0) {\n      console.error('No related sales found for sale:', sale);\n      return;\n    }\n    const items = relatedSales.map(s => {\n      var _s$product;\n      return {\n        product: {\n          Product: ((_s$product = s.product) === null || _s$product === void 0 ? void 0 : _s$product.Product) || 'Producto no especificado'\n        },\n        price: s.Price,\n        description: s.description || ''\n      };\n    });\n    const total = relatedSales.reduce((sum, s) => sum + s.Price, 0);\n    await generateInvoice(items, total, sale, selectedVat);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      minHeight: '100vh',\n      backgroundColor: 'hsl(0 0% 98%)',\n      padding: '32px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontFamily: 'system-ui',\n        color: 'hsl(215.4 16.3% 46.9%)'\n      },\n      children: \"Loading sales data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 292,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      minHeight: '100vh',\n      backgroundColor: 'hsl(0 0% 98%)',\n      color: 'hsl(222.2 47.4% 11.2%)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: {\n        flex: 1,\n        padding: '32px',\n        backgroundColor: 'hsl(0 0% 98%)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: '1400px',\n          margin: '0 auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              style: {\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                margin: 0,\n                fontFamily: 'system-ui',\n                letterSpacing: '-0.025em'\n              },\n              children: store ? `${store.charAt(0).toUpperCase() + store.slice(1)} Store` : 'All Stores'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: timeFilter,\n              onChange: e => setTimeFilter(e.target.value),\n              style: {\n                padding: '8px 14px',\n                borderRadius: '6px',\n                border: '1px solid hsl(240 5.9% 90%)',\n                fontSize: '14px',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                backgroundColor: 'white',\n                cursor: 'pointer',\n                fontFamily: 'system-ui',\n                outline: 'none'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"All Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"day\",\n                children: \"Today\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"yesterday\",\n                children: \"Yesterday\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"Last 7 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"Last 30 Days\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3months\",\n                children: \"Last 3 Months\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"12months\",\n                children: \"Last 12 Months\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '300px',\n              height: '80px',\n              position: 'relative',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              padding: '12px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'absolute',\n                top: '10px',\n                left: '12px',\n                fontSize: '12px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                fontFamily: 'system-ui'\n              },\n              children: \"Last 30 Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), chartData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                height: '100%',\n                alignItems: 'flex-end',\n                gap: '0px',\n                paddingTop: '20px'\n              },\n              children: chartData.map((point, index) => {\n                // Calculate height as a percentage of the max value\n                const max = Math.max(...chartData.map(p => p.amount));\n                const height = max === 0 ? 0 : point.amount / max * 100;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1,\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    height: '100%'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: '100%',\n                      height: `${height}%`,\n                      backgroundColor: point.amount > 0 ? 'hsl(221.2 83.2% 71.8%)' : 'hsl(220 14% 96%)',\n                      borderRadius: '1px 1px 0 0',\n                      transition: 'height 0.3s ease',\n                      minHeight: point.amount > 0 ? '4px' : '1px'\n                    },\n                    title: `${point.date}: €${point.amount.toFixed(2)}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                height: '100%',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                fontSize: '12px',\n                fontFamily: 'system-ui'\n              },\n              children: \"No data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(3, 1fr)',\n            gap: '20px',\n            marginBottom: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '24px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              transition: 'transform 0.2s ease, box-shadow 0.2s ease'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '13px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                marginBottom: '8px',\n                fontFamily: 'system-ui'\n              },\n              children: \"Today's Revenue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                fontFamily: 'system-ui'\n              },\n              children: [\"\\u20AC\", todayRevenue.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '24px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '13px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                marginBottom: '8px',\n                fontFamily: 'system-ui'\n              },\n              children: \"Yesterday's Revenue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                fontFamily: 'system-ui'\n              },\n              children: [\"\\u20AC\", yesterdayRevenue.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '24px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '13px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                marginBottom: '8px',\n                fontFamily: 'system-ui'\n              },\n              children: [timeFilter === '12months' ? 'Yearly' : timeFilter === '3months' ? 'Quarterly' : 'Monthly', \" Revenue\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                fontFamily: 'system-ui'\n              },\n              children: [\"\\u20AC\", periodRevenue.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr auto',\n            gap: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              overflow: 'hidden'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '16px 24px',\n                borderBottom: '1px solid hsl(240 5.9% 90%)'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui'\n                },\n                children: \"Recent Sales\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                overflowX: 'auto'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                style: {\n                  width: '100%',\n                  borderCollapse: 'collapse'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    style: {\n                      backgroundColor: 'hsl(0 0% 98%)',\n                      borderBottom: '1px solid hsl(240 5.9% 90%)'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '12px 24px',\n                        textAlign: 'left',\n                        fontSize: '12px',\n                        fontWeight: '500',\n                        color: 'hsl(215.4 16.3% 46.9%)',\n                        fontFamily: 'system-ui'\n                      },\n                      children: \"Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        ...headerStyle\n                      },\n                      children: \"Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        ...headerStyle\n                      },\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        ...headerStyle\n                      },\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 593,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        ...headerStyle\n                      },\n                      children: \"Actions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 594,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: sales.map(sale => {\n                    var _sale$product2, _sale$Price;\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      style: {\n                        borderBottom: '1px solid hsl(240 5.9% 90%)',\n                        backgroundColor: 'white',\n                        transition: 'background-color 0.15s ease'\n                      },\n                      onMouseEnter: e => {\n                        e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n                      },\n                      onMouseLeave: e => {\n                        e.currentTarget.style.backgroundColor = 'white';\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          ...cellStyle\n                        },\n                        children: sale.Time ? new Date(sale.Time).toLocaleDateString('es-ES') : 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 613,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          ...cellStyle\n                        },\n                        children: sale.Time ? new Date(sale.Time).toLocaleTimeString('es-ES') : 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 616,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          ...cellStyle\n                        },\n                        children: ((_sale$product2 = sale.product) === null || _sale$product2 === void 0 ? void 0 : _sale$product2.Product) || 'N/A'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 619,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          ...cellStyle\n                        },\n                        children: [\"\\u20AC\", ((_sale$Price = sale.Price) === null || _sale$Price === void 0 ? void 0 : _sale$Price.toFixed(2)) || '0.00']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 622,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        style: {\n                          ...cellStyle\n                        },\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            gap: '8px',\n                            alignItems: 'center'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                            value: selectedVat,\n                            onChange: e => setSelectedVat(Number(e.target.value)),\n                            style: {\n                              padding: '6px 10px',\n                              borderRadius: '6px',\n                              border: '1px solid hsl(240 5.9% 90%)',\n                              fontSize: '13px',\n                              color: 'hsl(222.2 47.4% 11.2%)',\n                              backgroundColor: 'white',\n                              cursor: 'pointer',\n                              fontFamily: 'system-ui'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                              value: 0,\n                              children: \"IVA: 0%\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 645,\n                              columnNumber: 31\n                            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                              value: 10,\n                              children: \"IVA: 10%\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 646,\n                              columnNumber: 31\n                            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                              value: 21,\n                              children: \"IVA: 21%\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 647,\n                              columnNumber: 31\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 631,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => handleDownloadInvoice(sale),\n                            style: {\n                              padding: '6px 12px',\n                              backgroundColor: 'hsl(222.2 47.4% 11.2%)',\n                              color: 'white',\n                              border: 'none',\n                              borderRadius: '6px',\n                              cursor: 'pointer',\n                              fontSize: '13px',\n                              fontWeight: '500',\n                              transition: 'all 0.15s ease',\n                              fontFamily: 'system-ui'\n                            },\n                            children: \"Download\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 649,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 626,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 625,\n                        columnNumber: 25\n                      }, this)]\n                    }, sale.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 23\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '400px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              overflow: 'hidden'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '16px 24px',\n                borderBottom: '1px solid hsl(240 5.9% 90%)'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui'\n                },\n                children: \"Product Stats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                maxHeight: 'calc(100vh - 300px)',\n                overflowY: 'auto'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                style: {\n                  width: '100%',\n                  borderCollapse: 'collapse'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    style: {\n                      backgroundColor: 'hsl(0 0% 98%)',\n                      borderBottom: '1px solid hsl(240 5.9% 90%)'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        padding: '12px 24px',\n                        textAlign: 'left',\n                        fontSize: '12px',\n                        fontWeight: '500',\n                        color: 'hsl(215.4 16.3% 46.9%)',\n                        fontFamily: 'system-ui'\n                      },\n                      children: \"Product\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 711,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        ...headerStyle,\n                        textAlign: 'right'\n                      },\n                      children: \"Sales\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 719,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      style: {\n                        ...headerStyle,\n                        textAlign: 'right'\n                      },\n                      children: \"Revenue\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 720,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: productStats.map(stat => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    style: {\n                      borderBottom: '1px solid hsl(240 5.9% 90%)',\n                      backgroundColor: 'white',\n                      transition: 'background-color 0.15s ease'\n                    },\n                    onMouseEnter: e => {\n                      e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n                    },\n                    onMouseLeave: e => {\n                      e.currentTarget.style.backgroundColor = 'white';\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        ...cellStyle\n                      },\n                      children: stat.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 739,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        ...cellStyle,\n                        textAlign: 'right'\n                      },\n                      children: stat.count\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 740,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        ...cellStyle,\n                        textAlign: 'right'\n                      },\n                      children: [\"\\u20AC\", stat.totalRevenue.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 741,\n                      columnNumber: 25\n                    }, this)]\n                  }, stat.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminSales, \"kHz3zQr01Ni+SNGOvcRqJXSAt1k=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = AdminSales;\nconst headerStyle = {\n  padding: '12px 24px',\n  textAlign: 'left',\n  fontSize: '12px',\n  fontWeight: '500',\n  color: 'hsl(215.4 16.3% 46.9%)',\n  fontFamily: 'system-ui'\n};\nconst cellStyle = {\n  padding: '12px 24px',\n  fontSize: '13px',\n  color: 'hsl(222.2 47.4% 11.2%)',\n  fontFamily: 'system-ui'\n};\nexport default AdminSales;\nvar _c;\n$RefreshReg$(_c, \"AdminSales\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useParams","API","generateInvoice","Sidebar","jsxDEV","_jsxDEV","STORE_IDS","gaudi","paralel","mallorca","hospital","consell","AdminSales","_s","sales","setSales","loading","setLoading","timeFilter","setTimeFilter","todayRevenue","setTodayRevenue","productStats","setProductStats","selectedVat","setSelectedVat","yesterdayRevenue","setYesterdayRevenue","periodRevenue","setPeriodRevenue","navigate","store","chartData","setChartData","fetchSales","filters","now","Date","startDate","setHours","setDate","getDate","endDate","toISOString","setMonth","getMonth","setFullYear","getFullYear","response","get","params","sortedSales","data","sort","a","b","createdAt","getTime","error","_error$response","console","status","localStorage","removeItem","fetchProductStats","storeSales","stats","id","name","count","totalRevenue","forEach","sale","_sale$product","productId","product","price","parseFloat","Price","productStat","find","s","generateChartData","length","dateMap","today","i","date","dateStr","toLocaleDateString","Time","daysDiff","Math","floor","Object","keys","map","amount","token","getItem","defaults","headers","common","handleDownloadInvoice","relatedSales","orderGroupId","filter","saleTime","timeDiff","abs","log","items","_s$product","Product","description","total","reduce","sum","style","display","minHeight","backgroundColor","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","flex","alignItems","justifyContent","fontFamily","color","maxWidth","margin","marginBottom","gap","fontSize","fontWeight","letterSpacing","charAt","toUpperCase","slice","value","onChange","e","target","borderRadius","border","cursor","outline","width","height","position","boxShadow","top","left","paddingTop","point","index","max","p","flexDirection","transition","title","toFixed","gridTemplateColumns","overflow","borderBottom","overflowX","borderCollapse","textAlign","headerStyle","_sale$product2","_sale$Price","onMouseEnter","currentTarget","onMouseLeave","cellStyle","toLocaleTimeString","Number","onClick","maxHeight","overflowY","stat","_c","$RefreshReg$"],"sources":["/Users/oan/Desktop/POS/pos-frontend/src/components/admin/AdminSales.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport API from '../../services/api';\nimport { generateInvoice } from '../../utils/invoice';\nimport Sidebar from './Sidebar';\n\nconst STORE_IDS = {\n  gaudi: 5,\n  paralel: 1,\n  mallorca: 3,\n  hospital: 7,\n  consell: 14\n};\n\nfunction AdminSales() {\n  const [sales, setSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [timeFilter, setTimeFilter] = useState('day');\n  const [todayRevenue, setTodayRevenue] = useState(0);\n  const [productStats, setProductStats] = useState([]);\n  const [selectedVat, setSelectedVat] = useState(0);\n  const [yesterdayRevenue, setYesterdayRevenue] = useState(0);\n  const [periodRevenue, setPeriodRevenue] = useState(0);\n  const navigate = useNavigate();\n  const { store } = useParams();\n\n  // For chart visualization - this would be populated from your API data\n  const [chartData, setChartData] = useState([]);\n\n  const fetchSales = useCallback(async () => {\n    try {\n      setLoading(true);\n      \n      // Create filters based on the selected timeframe\n      let filters = {\n        'filters[store][id][$eq]': STORE_IDS[store]\n      };\n      \n      // Add date filters based on timeFilter\n      if (timeFilter !== 'all') {\n        const now = new Date();\n        let startDate;\n        \n        switch (timeFilter) {\n          case 'day':\n            startDate = new Date(now.setHours(0, 0, 0, 0));\n            break;\n          case 'yesterday':\n            startDate = new Date(now);\n            startDate.setDate(startDate.getDate() - 1);\n            startDate.setHours(0, 0, 0, 0);\n            const endDate = new Date(startDate);\n            endDate.setHours(23, 59, 59, 999);\n            filters['filters[Time][$gte]'] = startDate.toISOString();\n            filters['filters[Time][$lte]'] = endDate.toISOString();\n            break;\n          case 'week':\n            startDate = new Date(now);\n            startDate.setDate(startDate.getDate() - 7);\n            break;\n          case 'month':\n            startDate = new Date(now);\n            startDate.setDate(startDate.getDate() - 30);\n            break;\n          case '3months':\n            startDate = new Date(now);\n            startDate.setMonth(startDate.getMonth() - 3);\n            break;\n          case '12months':\n            startDate = new Date(now);\n            startDate.setFullYear(startDate.getFullYear() - 1);\n            break;\n          default:\n            break;\n        }\n        \n        // Only add the gte filter if it's not the 'yesterday' case (which we already handled)\n        if (timeFilter !== 'yesterday' && startDate) {\n          filters['filters[Time][$gte]'] = startDate.toISOString();\n        }\n      }\n      \n      const response = await API.get('/api/sales', {\n        params: {\n          ...filters,\n          'populate': {\n            'invoice': true,\n            'product': true,\n            '*': true\n          },\n          'sort': 'createdAt:desc'\n        }\n      });\n      \n      const sortedSales = response.data.data.sort((a, b) => \n        new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n      );\n      \n      setSales(sortedSales);\n    } catch (error) {\n      console.error('Error fetching sales:', error);\n      if (error.response?.status === 401) {\n        localStorage.removeItem('jwtToken');\n        navigate('/login');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [store, timeFilter, navigate]);\n\n  const fetchProductStats = useCallback(async () => {\n    try {\n      // Get store-specific sales\n      const response = await API.get('/api/sales', {\n        params: {\n          'filters[store][id][$eq]': STORE_IDS[store],\n          'populate': ['product', 'store']\n        }\n      });\n      const storeSales = response.data.data;\n\n      // Map products to their stats (full list from ProductStats.jsx)\n      const stats = [\n        { id: 1, name: \"Phone\", count: 0, totalRevenue: 0 },\n        { id: 3, name: \"Laptop\", count: 0, totalRevenue: 0 },\n        { id: 5, name: \"Funda\", count: 0, totalRevenue: 0 },\n        { id: 7, name: \"Charger\", count: 0, totalRevenue: 0 },\n        { id: 9, name: \"Figura\", count: 0, totalRevenue: 0 },\n        { id: 11, name: \"Voda SIM\", count: 0, totalRevenue: 0 },\n        { id: 13, name: \"Protector\", count: 0, totalRevenue: 0 },\n        { id: 15, name: \"Hydrogel Protector\", count: 0, totalRevenue: 0 },\n        { id: 17, name: \"Cordón\", count: 0, totalRevenue: 0 },\n        { id: 19, name: \"BT Headphones\", count: 0, totalRevenue: 0 },\n        { id: 21, name: \"BT Speaker\", count: 0, totalRevenue: 0 },\n        { id: 23, name: \"Souvenir\", count: 0, totalRevenue: 0 },\n        { id: 25, name: \"Headphones\", count: 0, totalRevenue: 0 },\n        { id: 27, name: \"Cable\", count: 0, totalRevenue: 0 },\n        { id: 29, name: \"Cargador Set\", count: 0, totalRevenue: 0 },\n        { id: 31, name: \"Power Bank\", count: 0, totalRevenue: 0 },\n        { id: 33, name: \"Recarga\", count: 0, totalRevenue: 0 },\n        { id: 35, name: \"Print\", count: 0, totalRevenue: 0 },\n        { id: 37, name: \"Adapter\", count: 0, totalRevenue: 0 },\n        { id: 39, name: \"Gafas\", count: 0, totalRevenue: 0 },\n        { id: 41, name: \"Repair\", count: 0, totalRevenue: 0 },\n        { id: 43, name: \"Data transfer\", count: 0, totalRevenue: 0 },\n        { id: 45, name: \"Smartwatch\", count: 0, totalRevenue: 0 },\n        { id: 47, name: \"Lyca SIM\", count: 0, totalRevenue: 0 },\n        { id: 49, name: \"Raton\", count: 0, totalRevenue: 0 },\n        { id: 51, name: \"Watch Strap\", count: 0, totalRevenue: 0 },\n        { id: 53, name: \"USB Drive\", count: 0, totalRevenue: 0 },\n        { id: 55, name: \"Drink\", count: 0, totalRevenue: 0 },\n        { id: 57, name: \"Umbrella\", count: 0, totalRevenue: 0 },\n        { id: 59, name: \"Car Phone Mount\", count: 0, totalRevenue: 0 },\n        { id: 61, name: \"Shave Machine\", count: 0, totalRevenue: 0 },\n        { id: 63, name: \"Funda headphone\", count: 0, totalRevenue: 0 },\n        { id: 65, name: \"iPad\", count: 0, totalRevenue: 0 },\n        { id: 67, name: \"iPad funda\", count: 0, totalRevenue: 0 },\n        { id: 69, name: \"Macbook protector\", count: 0, totalRevenue: 0 },\n        { id: 71, name: \"Anime shirt\", count: 0, totalRevenue: 0 },\n        { id: 73, name: \"PC\", count: 0, totalRevenue: 0 },\n        { id: 75, name: \"Keyboard\", count: 0, totalRevenue: 0 },\n        { id: 77, name: \"Laptop (not MacBook)\", count: 0, totalRevenue: 0 },\n        { id: 79, name: \"iMac\", count: 0, totalRevenue: 0 },\n        { id: 82, name: \"Lyca SIM\", count: 0, totalRevenue: 0 },\n        { id: 85, name: \"Selfie Stick\", count: 0, totalRevenue: 0 },\n        { id: 87, name: \"OTG\", count: 0, totalRevenue: 0 },\n        { id: 89, name: \"Pilas\", count: 0, totalRevenue: 0 },\n        { id: 91, name: \"Soporte\", count: 0, totalRevenue: 0 },\n        { id: 93, name: \"SD Card\", count: 0, totalRevenue: 0 },\n        { id: 95, name: \"Dryer\", count: 0, totalRevenue: 0 },\n        { id: 97, name: \"Plancha\", count: 0, totalRevenue: 0 },\n        { id: 99, name: \"Mando\", count: 0, totalRevenue: 0 },\n        { id: 101, name: \"Trimmer\", count: 0, totalRevenue: 0 }\n      ];\n\n      // Process each sale\n      storeSales.forEach(sale => {\n        const productId = sale.product?.id;\n        const price = parseFloat(sale.Price || 0);\n\n        const productStat = stats.find(s => s.id === productId);\n        if (productStat) {\n          productStat.count += 1;\n          productStat.totalRevenue += price;\n        }\n      });\n\n      // Sort by revenue\n      stats.sort((a, b) => b.totalRevenue - a.totalRevenue);\n      setProductStats(stats);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }, [store]);\n\n  // Update the chart data generation function to show 30 days\n  const generateChartData = useCallback(() => {\n    if (!sales || sales.length === 0) return [];\n    \n    // Create a date map for the last 30 days\n    const dateMap = {};\n    const today = new Date();\n    \n    // Initialize empty data for the last 30 days\n    for (let i = 29; i >= 0; i--) {\n      const date = new Date(today);\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toLocaleDateString('es-ES');\n      dateMap[dateStr] = 0;\n    }\n    \n    // Fill in actual data\n    sales.forEach(sale => {\n      if (!sale.Time) return;\n      const date = new Date(sale.Time);\n      const daysDiff = Math.floor((today - date) / (1000 * 60 * 60 * 24));\n      \n      if (daysDiff <= 29) { // Only include last 30 days\n        const dateStr = date.toLocaleDateString('es-ES');\n        dateMap[dateStr] = (dateMap[dateStr] || 0) + parseFloat(sale.Price || 0);\n      }\n    });\n    \n    // Convert to array for chart display\n    return Object.keys(dateMap).map(date => ({\n      date,\n      amount: dateMap[date]\n    }));\n  }, [sales]);\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    \n    // Configure API token\n    API.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    \n    // Only fetch data if we have a valid token\n    fetchSales();\n    if (store) {\n      fetchProductStats();\n    }\n  }, [store, timeFilter, fetchSales, fetchProductStats, navigate]);\n\n  useEffect(() => {\n    // Add chart data generation to your existing useEffect\n    if (sales && sales.length > 0) {\n      setChartData(generateChartData());\n    }\n  }, [sales, generateChartData]);\n\n  const handleDownloadInvoice = async (sale) => {\n    // Find related sales either by orderGroupId or by time (within 1 second)\n    let relatedSales;\n    \n    if (sale.orderGroupId) {\n      // If orderGroupId exists, use it\n      relatedSales = sales.filter(s => s.orderGroupId === sale.orderGroupId);\n    } else {\n      // Fallback to time-based grouping for older sales\n      const saleTime = new Date(sale.Time).getTime();\n      relatedSales = sales.filter(s => {\n        const timeDiff = Math.abs(new Date(s.Time).getTime() - saleTime);\n        return timeDiff < 1000;\n      });\n    }\n    \n    console.log('Related sales:', relatedSales);\n    \n    if (relatedSales.length === 0) {\n      console.error('No related sales found for sale:', sale);\n      return;\n    }\n\n    const items = relatedSales.map(s => ({\n      product: { \n        Product: s.product?.Product || 'Producto no especificado'\n      },\n      price: s.Price,\n      description: s.description || ''\n    }));\n    \n    const total = relatedSales.reduce((sum, s) => sum + s.Price, 0);\n    \n    await generateInvoice(items, total, sale, selectedVat);\n  };\n\n  if (loading) return (\n    <div style={{\n      display: 'flex',\n      minHeight: '100vh',\n      backgroundColor: 'hsl(0 0% 98%)',\n      padding: '32px'\n    }}>\n      <Sidebar />\n      <main style={{\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontFamily: 'system-ui',\n        color: 'hsl(215.4 16.3% 46.9%)'\n      }}>\n        Loading sales data...\n      </main>\n    </div>\n  );\n\n  return (\n    <div style={{ \n      display: 'flex',\n      minHeight: '100vh',\n      backgroundColor: 'hsl(0 0% 98%)',\n      color: 'hsl(222.2 47.4% 11.2%)'\n    }}>\n      <Sidebar />\n      \n      <main style={{\n        flex: 1,\n        padding: '32px',\n        backgroundColor: 'hsl(0 0% 98%)'\n      }}>\n        <div style={{\n          maxWidth: '1400px',\n          margin: '0 auto'\n        }}>\n          {/* Header with Title and Time Filter */}\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '24px'\n          }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n              <h1 style={{\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                margin: 0,\n                fontFamily: 'system-ui',\n                letterSpacing: '-0.025em'\n              }}>\n                {store ? `${store.charAt(0).toUpperCase() + store.slice(1)} Store` : 'All Stores'}\n              </h1>\n              \n              <select\n                value={timeFilter}\n                onChange={(e) => setTimeFilter(e.target.value)}\n                style={{\n                  padding: '8px 14px',\n                  borderRadius: '6px',\n                  border: '1px solid hsl(240 5.9% 90%)',\n                  fontSize: '14px',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  backgroundColor: 'white',\n                  cursor: 'pointer',\n                  fontFamily: 'system-ui',\n                  outline: 'none'\n                }}\n              >\n                <option value=\"all\">All Time</option>\n                <option value=\"day\">Today</option>\n                <option value=\"yesterday\">Yesterday</option>\n                <option value=\"week\">Last 7 Days</option>\n                <option value=\"month\">Last 30 Days</option>\n                <option value=\"3months\">Last 3 Months</option>\n                <option value=\"12months\">Last 12 Months</option>\n              </select>\n            </div>\n            \n            {/* Small Compact Chart */}\n            <div style={{\n              width: '300px',\n              height: '80px',\n              position: 'relative',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              padding: '12px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n            }}>\n              <div style={{\n                position: 'absolute',\n                top: '10px',\n                left: '12px',\n                fontSize: '12px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                fontFamily: 'system-ui'\n              }}>\n                Last 30 Days\n              </div>\n              \n              {chartData.length > 0 ? (\n                <div style={{\n                  display: 'flex',\n                  height: '100%',\n                  alignItems: 'flex-end',\n                  gap: '0px',\n                  paddingTop: '20px'\n                }}>\n                  {chartData.map((point, index) => {\n                    // Calculate height as a percentage of the max value\n                    const max = Math.max(...chartData.map(p => p.amount));\n                    const height = max === 0 ? 0 : (point.amount / max) * 100;\n                    \n                    return (\n                      <div key={index} style={{ \n                        flex: 1, \n                        display: 'flex', \n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        height: '100%'\n                      }}>\n                        <div \n                          style={{\n                            width: '100%',\n                            height: `${height}%`,\n                            backgroundColor: point.amount > 0 \n                              ? 'hsl(221.2 83.2% 71.8%)' \n                              : 'hsl(220 14% 96%)',\n                            borderRadius: '1px 1px 0 0',\n                            transition: 'height 0.3s ease',\n                            minHeight: point.amount > 0 ? '4px' : '1px'\n                          }}\n                          title={`${point.date}: €${point.amount.toFixed(2)}`}\n                        />\n                      </div>\n                    );\n                  })}\n                </div>\n              ) : (\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  height: '100%',\n                  color: 'hsl(215.4 16.3% 46.9%)',\n                  fontSize: '12px',\n                  fontFamily: 'system-ui'\n                }}>\n                  No data\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Stats Cards */}\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(3, 1fr)',\n            gap: '20px',\n            marginBottom: '24px'\n          }}>\n            {/* Today's Revenue */}\n            <div style={{\n              padding: '24px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              transition: 'transform 0.2s ease, box-shadow 0.2s ease'\n            }}>\n              <div style={{\n                fontSize: '13px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                marginBottom: '8px',\n                fontFamily: 'system-ui'\n              }}>\n                Today's Revenue\n              </div>\n              <div style={{\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                fontFamily: 'system-ui'\n              }}>\n                €{todayRevenue.toFixed(2)}\n              </div>\n            </div>\n\n            {/* Yesterday's Revenue */}\n            <div style={{\n              padding: '24px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n            }}>\n              <div style={{\n                fontSize: '13px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                marginBottom: '8px',\n                fontFamily: 'system-ui'\n              }}>\n                Yesterday's Revenue\n              </div>\n              <div style={{\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                fontFamily: 'system-ui'\n              }}>\n                €{yesterdayRevenue.toFixed(2)}\n              </div>\n            </div>\n\n            {/* Period Revenue */}\n            <div style={{\n              padding: '24px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n            }}>\n              <div style={{\n                fontSize: '13px',\n                fontWeight: '500',\n                color: 'hsl(215.4 16.3% 46.9%)',\n                marginBottom: '8px',\n                fontFamily: 'system-ui'\n              }}>\n                {timeFilter === '12months' ? 'Yearly' : \n                 timeFilter === '3months' ? 'Quarterly' : \n                 'Monthly'} Revenue\n              </div>\n              <div style={{\n                fontSize: '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                fontFamily: 'system-ui'\n              }}>\n                €{periodRevenue.toFixed(2)}\n              </div>\n            </div>\n          </div>\n\n          {/* Main Content Grid */}\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: '1fr auto',\n            gap: '24px'\n          }}>\n            {/* Sales Table */}\n            <div style={{\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              overflow: 'hidden'\n            }}>\n              <div style={{\n                padding: '16px 24px',\n                borderBottom: '1px solid hsl(240 5.9% 90%)'\n              }}>\n                <h2 style={{\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui'\n                }}>\n                  Recent Sales\n                </h2>\n              </div>\n\n              <div style={{\n                overflowX: 'auto'\n              }}>\n                <table style={{\n                  width: '100%',\n                  borderCollapse: 'collapse'\n                }}>\n                  <thead>\n                    <tr style={{\n                      backgroundColor: 'hsl(0 0% 98%)',\n                      borderBottom: '1px solid hsl(240 5.9% 90%)'\n                    }}>\n                      <th style={{\n                        padding: '12px 24px',\n                        textAlign: 'left',\n                        fontSize: '12px',\n                        fontWeight: '500',\n                        color: 'hsl(215.4 16.3% 46.9%)',\n                        fontFamily: 'system-ui'\n                      }}>Date</th>\n                      <th style={{ ...headerStyle }}>Time</th>\n                      <th style={{ ...headerStyle }}>Product</th>\n                      <th style={{ ...headerStyle }}>Price</th>\n                      <th style={{ ...headerStyle }}>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {sales.map((sale) => (\n                      <tr \n                        key={sale.id}\n                        style={{\n                          borderBottom: '1px solid hsl(240 5.9% 90%)',\n                          backgroundColor: 'white',\n                          transition: 'background-color 0.15s ease'\n                        }}\n                        onMouseEnter={(e) => {\n                          e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.currentTarget.style.backgroundColor = 'white';\n                        }}\n                      >\n                        <td style={{ ...cellStyle }}>\n                          {sale.Time ? new Date(sale.Time).toLocaleDateString('es-ES') : 'N/A'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          {sale.Time ? new Date(sale.Time).toLocaleTimeString('es-ES') : 'N/A'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          {sale.product?.Product || 'N/A'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          €{sale.Price?.toFixed(2) || '0.00'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          <div style={{\n                            display: 'flex',\n                            gap: '8px',\n                            alignItems: 'center'\n                          }}>\n                            <select\n                              value={selectedVat}\n                              onChange={(e) => setSelectedVat(Number(e.target.value))}\n                              style={{\n                                padding: '6px 10px',\n                                borderRadius: '6px',\n                                border: '1px solid hsl(240 5.9% 90%)',\n                                fontSize: '13px',\n                                color: 'hsl(222.2 47.4% 11.2%)',\n                                backgroundColor: 'white',\n                                cursor: 'pointer',\n                                fontFamily: 'system-ui'\n                              }}\n                            >\n                              <option value={0}>IVA: 0%</option>\n                              <option value={10}>IVA: 10%</option>\n                              <option value={21}>IVA: 21%</option>\n                            </select>\n                            <button\n                              onClick={() => handleDownloadInvoice(sale)}\n                              style={{\n                                padding: '6px 12px',\n                                backgroundColor: 'hsl(222.2 47.4% 11.2%)',\n                                color: 'white',\n                                border: 'none',\n                                borderRadius: '6px',\n                                cursor: 'pointer',\n                                fontSize: '13px',\n                                fontWeight: '500',\n                                transition: 'all 0.15s ease',\n                                fontFamily: 'system-ui'\n                              }}\n                            >\n                              Download\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            {/* Product Stats */}\n            <div style={{\n              width: '400px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              overflow: 'hidden'\n            }}>\n              <div style={{\n                padding: '16px 24px',\n                borderBottom: '1px solid hsl(240 5.9% 90%)'\n              }}>\n                <h2 style={{\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui'\n                }}>\n                  Product Stats\n                </h2>\n              </div>\n\n              <div style={{\n                maxHeight: 'calc(100vh - 300px)',\n                overflowY: 'auto'\n              }}>\n                <table style={{\n                  width: '100%',\n                  borderCollapse: 'collapse'\n                }}>\n                  <thead>\n                    <tr style={{\n                      backgroundColor: 'hsl(0 0% 98%)',\n                      borderBottom: '1px solid hsl(240 5.9% 90%)'\n                    }}>\n                      <th style={{\n                        padding: '12px 24px',\n                        textAlign: 'left',\n                        fontSize: '12px',\n                        fontWeight: '500',\n                        color: 'hsl(215.4 16.3% 46.9%)',\n                        fontFamily: 'system-ui'\n                      }}>Product</th>\n                      <th style={{ ...headerStyle, textAlign: 'right' }}>Sales</th>\n                      <th style={{ ...headerStyle, textAlign: 'right' }}>Revenue</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {productStats.map((stat) => (\n                      <tr \n                        key={stat.id}\n                        style={{\n                          borderBottom: '1px solid hsl(240 5.9% 90%)',\n                          backgroundColor: 'white',\n                          transition: 'background-color 0.15s ease'\n                        }}\n                        onMouseEnter={(e) => {\n                          e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.currentTarget.style.backgroundColor = 'white';\n                        }}\n                      >\n                        <td style={{ ...cellStyle }}>{stat.name}</td>\n                        <td style={{ ...cellStyle, textAlign: 'right' }}>{stat.count}</td>\n                        <td style={{ ...cellStyle, textAlign: 'right' }}>€{stat.totalRevenue.toFixed(2)}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nconst headerStyle = {\n  padding: '12px 24px',\n  textAlign: 'left',\n  fontSize: '12px',\n  fontWeight: '500',\n  color: 'hsl(215.4 16.3% 46.9%)',\n  fontFamily: 'system-ui'\n};\n\nconst cellStyle = {\n  padding: '12px 24px',\n  fontSize: '13px',\n  color: 'hsl(222.2 47.4% 11.2%)',\n  fontFamily: 'system-ui'\n};\n\nexport default AdminSales; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}