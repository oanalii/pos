{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useNavigate,useParams}from'react-router-dom';import API from'../../services/api';import{generateInvoice}from'../../utils/invoice';import Sidebar from'./Sidebar';import{Box,Typography,Select,MenuItem,Button,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Container}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const STORE_IDS={gaudi:5,mallorca:3,hospital:7,consell:14,paralel:1};// Add the start date constant\nconst TRACKING_START_DATE='2025-06-01T00:00:00.000Z';const BREAKEVEN_COSTS={gaudi:280,hospital:320,mallorca:227,consell:224,paralel:872,total:1913// 313 + 277 + 227 + 224 + 872\n};// Add these styles at the top of the component\nconst mobileBreakpoint='768px';// Standard tablet/phone breakpoint\nfunction AdminSales(){const[sales,setSales]=useState([]);const[loading,setLoading]=useState(true);const[timeFilter,setTimeFilter]=useState('day');const[searchTerm,setSearchTerm]=useState('');const[todayRevenue,setTodayRevenue]=useState(0);const[yesterdayRevenue,setYesterdayRevenue]=useState(0);const[lastMonthRevenue,setLastMonthRevenue]=useState(0);const[currentMonthRevenue,setCurrentMonthRevenue]=useState(0);const[lastWeekRevenue,setLastWeekRevenue]=useState(0);const[totalRevenue,setTotalRevenue]=useState(0);const[productStats,setProductStats]=useState([]);const[selectedVat,setSelectedVat]=useState(0);const[periodRevenue,setPeriodRevenue]=useState(0);const[dailyProfit,setDailyProfit]=useState(0);const navigate=useNavigate();const{store}=useParams();// For chart visualization - this would be populated from your API data\nconst[chartData,setChartData]=useState([]);const[isMobile,setIsMobile]=useState(window.innerWidth<=768);const fetchSales=useCallback(async()=>{try{var _todayResponse$data,_todayResponse$data$d,_yesterdayResponse$da,_yesterdayResponse$da2,_currentMonthResponse,_currentMonthResponse2,_lastWeekResponse$dat,_lastWeekResponse$dat2,_allTimeResponse$data,_allTimeResponse$data2,_response$data;// Get today's sales\nconst todayStart=new Date();todayStart.setHours(0,0,0,0);const todayResponse=await API.get('/api/sales',{params:{'filters[Time][$gte]':todayStart.toISOString(),'populate':['*','store','product'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});const todayTotal=((_todayResponse$data=todayResponse.data)===null||_todayResponse$data===void 0?void 0:(_todayResponse$data$d=_todayResponse$data.data)===null||_todayResponse$data$d===void 0?void 0:_todayResponse$data$d.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0))||0;setTodayRevenue(todayTotal);// Calculate profit if we're on a store page or general view\nif(store){const profit=todayTotal-BREAKEVEN_COSTS[store];setDailyProfit(profit);}else{// For general view (all stores)\nconst profit=todayTotal-BREAKEVEN_COSTS.total;setDailyProfit(profit);}// Get yesterday's sales\nconst yesterdayStart=new Date();yesterdayStart.setDate(yesterdayStart.getDate()-1);yesterdayStart.setHours(0,0,0,0);const yesterdayEnd=new Date(todayStart);const yesterdayResponse=await API.get('/api/sales',{params:{'filters[Time][$gte]':yesterdayStart.toISOString(),'filters[Time][$lt]':yesterdayEnd.toISOString(),'populate':['*','store','product'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});const yesterdayTotal=((_yesterdayResponse$da=yesterdayResponse.data)===null||_yesterdayResponse$da===void 0?void 0:(_yesterdayResponse$da2=_yesterdayResponse$da.data)===null||_yesterdayResponse$da2===void 0?void 0:_yesterdayResponse$da2.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0))||0;setYesterdayRevenue(yesterdayTotal);// Get last month's sales (1st to last day of previous month)\nconst lastMonthStart=new Date();lastMonthStart.setMonth(lastMonthStart.getMonth()-1);lastMonthStart.setDate(1);lastMonthStart.setHours(0,0,0,0);const lastMonthEnd=new Date();lastMonthEnd.setDate(0);// Last day of previous month\nlastMonthEnd.setHours(23,59,59,999);// Only fetch last month's data if we're past July 2025\nif(new Date()>new Date('2025-07-01')){var _lastMonthResponse$da,_lastMonthResponse$da2;const lastMonthResponse=await API.get('/api/sales',{params:{'filters[Time][$gte]':lastMonthStart.toISOString(),'filters[Time][$lte]':lastMonthEnd.toISOString(),'populate':['*','store','product'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});const lastMonthTotal=((_lastMonthResponse$da=lastMonthResponse.data)===null||_lastMonthResponse$da===void 0?void 0:(_lastMonthResponse$da2=_lastMonthResponse$da.data)===null||_lastMonthResponse$da2===void 0?void 0:_lastMonthResponse$da2.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0))||0;setLastMonthRevenue(lastMonthTotal);}else{setLastMonthRevenue(0);}// Get current month's sales (1st to present)\nconst currentMonthStart=new Date();currentMonthStart.setDate(1);currentMonthStart.setHours(0,0,0,0);const currentMonthResponse=await API.get('/api/sales',{params:{'filters[Time][$gte]':currentMonthStart.toISOString(),'populate':['*','store','product'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});const currentMonthTotal=((_currentMonthResponse=currentMonthResponse.data)===null||_currentMonthResponse===void 0?void 0:(_currentMonthResponse2=_currentMonthResponse.data)===null||_currentMonthResponse2===void 0?void 0:_currentMonthResponse2.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0))||0;setCurrentMonthRevenue(currentMonthTotal);// Get last week's sales\nconst lastWeekStart=new Date();lastWeekStart.setDate(lastWeekStart.getDate()-7);lastWeekStart.setHours(0,0,0,0);const lastWeekResponse=await API.get('/api/sales',{params:{'filters[Time][$gte]':lastWeekStart.toISOString(),'populate':['*','store','product'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});const lastWeekTotal=((_lastWeekResponse$dat=lastWeekResponse.data)===null||_lastWeekResponse$dat===void 0?void 0:(_lastWeekResponse$dat2=_lastWeekResponse$dat.data)===null||_lastWeekResponse$dat2===void 0?void 0:_lastWeekResponse$dat2.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0))||0;setLastWeekRevenue(lastWeekTotal);// Get all-time sales\nconst allTimeResponse=await API.get('/api/sales',{params:{'filters[Time][$gte]':TRACKING_START_DATE,'populate':['*','store','product'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});const allTimeTotal=((_allTimeResponse$data=allTimeResponse.data)===null||_allTimeResponse$data===void 0?void 0:(_allTimeResponse$data2=_allTimeResponse$data.data)===null||_allTimeResponse$data2===void 0?void 0:_allTimeResponse$data2.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0))||0;setTotalRevenue(allTimeTotal);// Get all sales for the table and chart\nconst response=await API.get('/api/sales',{params:{'populate':['*','store','product'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});if(!((_response$data=response.data)!==null&&_response$data!==void 0&&_response$data.data)){setSales([]);setChartData([]);return;}const filteredSales=response.data.data.filter(sale=>{if(!sale.Time)return false;const saleDate=new Date(sale.Time);const currentDate=new Date();switch(timeFilter){case'day':return saleDate>=todayStart;case'yesterday':return saleDate>=yesterdayStart&&saleDate<yesterdayEnd;case'week':const weekAgo=new Date(currentDate);weekAgo.setDate(weekAgo.getDate()-7);return saleDate>=weekAgo;case'month':const monthAgo=new Date(currentDate);monthAgo.setMonth(monthAgo.getMonth()-1);return saleDate>=monthAgo;case'3months':const threeMonthsAgo=new Date(currentDate);threeMonthsAgo.setMonth(threeMonthsAgo.getMonth()-3);return saleDate>=threeMonthsAgo;case'12months':const yearAgo=new Date(currentDate);yearAgo.setFullYear(yearAgo.getFullYear()-1);return saleDate>=yearAgo;default:return true;}});// Sort by date (newest first)\nconst sortedSales=filteredSales.sort((a,b)=>new Date(b.Time).getTime()-new Date(a.Time).getTime());setSales(sortedSales);// Generate chart data\nconst last30Days=generateChartData(sortedSales);setChartData(last30Days);}catch(error){console.error('Error fetching sales:',error);setSales([]);setChartData([]);}finally{setLoading(false);}},[store,timeFilter]);const generateChartData=useCallback(salesData=>{if(!Array.isArray(salesData))return[];const dateMap={};const today=new Date();today.setHours(0,0,0,0);// Initialize last 30 days with 0\nfor(let i=29;i>=0;i--){const date=new Date(today);date.setDate(date.getDate()-i);const dateStr=date.toLocaleDateString('es-ES');dateMap[dateStr]=0;}// Fill in actual sales data\nsalesData.forEach(sale=>{if(!(sale!==null&&sale!==void 0&&sale.Time))return;const saleDate=new Date(sale.Time);saleDate.setHours(0,0,0,0);const daysDiff=Math.floor((today-saleDate)/(1000*60*60*24));if(daysDiff<=29){const dateStr=saleDate.toLocaleDateString('es-ES');dateMap[dateStr]=(dateMap[dateStr]||0)+(parseFloat(sale.Price)||0);}});return Object.entries(dateMap).map(_ref=>{let[date,amount]=_ref;return{date,amount};});},[]);const fetchProductStats=useCallback(async()=>{try{// Get sales for all stores or specific store, starting from June 1st, 2025\nconst response=await API.get('/api/sales',{params:{'filters[Time][$gte]':TRACKING_START_DATE,'populate':['product','store'],...(store&&STORE_IDS[store]?{'filters[store][id][$eq]':STORE_IDS[store]}:{})}});const allSales=response.data.data;// Map products to their stats (full list from ProductStats.jsx)\nconst stats=[{id:1,name:\"Phone\",count:0,totalRevenue:0},{id:3,name:\"Laptop\",count:0,totalRevenue:0},{id:5,name:\"Funda\",count:0,totalRevenue:0},{id:7,name:\"Charger\",count:0,totalRevenue:0},{id:9,name:\"Figura\",count:0,totalRevenue:0},{id:11,name:\"Voda SIM\",count:0,totalRevenue:0},{id:13,name:\"Protector\",count:0,totalRevenue:0},{id:15,name:\"Hydrogel Protector\",count:0,totalRevenue:0},{id:17,name:\"Cordón\",count:0,totalRevenue:0},{id:19,name:\"BT Headphones\",count:0,totalRevenue:0},{id:21,name:\"BT Speaker\",count:0,totalRevenue:0},{id:23,name:\"Souvenir\",count:0,totalRevenue:0},{id:25,name:\"Headphones\",count:0,totalRevenue:0},{id:27,name:\"Cable\",count:0,totalRevenue:0},{id:29,name:\"Cargador Set\",count:0,totalRevenue:0},{id:31,name:\"Power Bank\",count:0,totalRevenue:0},{id:33,name:\"Recarga\",count:0,totalRevenue:0},{id:35,name:\"Print\",count:0,totalRevenue:0},{id:37,name:\"Adapter\",count:0,totalRevenue:0},{id:39,name:\"Gafas\",count:0,totalRevenue:0},{id:41,name:\"Repair\",count:0,totalRevenue:0},{id:43,name:\"Data transfer\",count:0,totalRevenue:0},{id:45,name:\"Smartwatch\",count:0,totalRevenue:0},{id:47,name:\"Lyca SIM\",count:0,totalRevenue:0},{id:49,name:\"Raton\",count:0,totalRevenue:0},{id:51,name:\"Watch Strap\",count:0,totalRevenue:0},{id:53,name:\"USB Drive\",count:0,totalRevenue:0},{id:55,name:\"Drink\",count:0,totalRevenue:0},{id:57,name:\"Umbrella\",count:0,totalRevenue:0},{id:59,name:\"Car Phone Mount\",count:0,totalRevenue:0},{id:61,name:\"Shave Machine\",count:0,totalRevenue:0},{id:63,name:\"Funda headphone\",count:0,totalRevenue:0},{id:65,name:\"iPad\",count:0,totalRevenue:0},{id:67,name:\"iPad funda\",count:0,totalRevenue:0},{id:69,name:\"Macbook protector\",count:0,totalRevenue:0},{id:71,name:\"Anime shirt\",count:0,totalRevenue:0},{id:73,name:\"PC\",count:0,totalRevenue:0},{id:75,name:\"Keyboard\",count:0,totalRevenue:0},{id:77,name:\"Laptop (not MacBook)\",count:0,totalRevenue:0},{id:79,name:\"iMac\",count:0,totalRevenue:0},{id:82,name:\"Lyca SIM\",count:0,totalRevenue:0},{id:85,name:\"Selfie Stick\",count:0,totalRevenue:0},{id:87,name:\"OTG\",count:0,totalRevenue:0},{id:89,name:\"Pilas\",count:0,totalRevenue:0},{id:91,name:\"Soporte\",count:0,totalRevenue:0},{id:93,name:\"SD Card\",count:0,totalRevenue:0},{id:95,name:\"Dryer\",count:0,totalRevenue:0},{id:97,name:\"Plancha\",count:0,totalRevenue:0},{id:99,name:\"Mando\",count:0,totalRevenue:0},{id:101,name:\"Trimmer\",count:0,totalRevenue:0},{id:103,name:\"Cannabis\",count:0,totalRevenue:0},{id:105,name:\"Perfumería\",count:0,totalRevenue:0}];// Process each sale\nallSales.forEach(sale=>{var _sale$product;const productId=(_sale$product=sale.product)===null||_sale$product===void 0?void 0:_sale$product.id;const price=parseFloat(sale.Price||0);const productStat=stats.find(s=>s.id===productId);if(productStat){productStat.count+=1;productStat.totalRevenue+=price;}});// Sort by revenue\nstats.sort((a,b)=>b.totalRevenue-a.totalRevenue);setProductStats(stats);}catch(error){console.error('Error:',error);}},[store]);useEffect(()=>{const token=localStorage.getItem('jwtToken');if(!token){navigate('/login');return;}API.defaults.headers.common['Authorization']=`Bearer ${token}`;fetchSales();fetchProductStats();},[store,timeFilter,fetchSales,fetchProductStats,navigate]);useEffect(()=>{const handleResize=()=>{setIsMobile(window.innerWidth<=768);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);const handleDownloadInvoice=async sale=>{// Find related sales either by orderGroupId or by time (within 1 second)\nlet relatedSales;if(sale.orderGroupId){// If orderGroupId exists, use it\nrelatedSales=sales.filter(s=>s.orderGroupId===sale.orderGroupId);}else{// Fallback to time-based grouping for older sales\nconst saleTime=new Date(sale.Time).getTime();relatedSales=sales.filter(s=>{const timeDiff=Math.abs(new Date(s.Time).getTime()-saleTime);return timeDiff<1000;});}console.log('Related sales:',relatedSales);if(relatedSales.length===0){console.error('No related sales found for sale:',sale);return;}const items=relatedSales.map(s=>{var _s$product;return{product:{Product:((_s$product=s.product)===null||_s$product===void 0?void 0:_s$product.Product)||'Producto no especificado'},price:s.Price,description:s.description||''};});const total=relatedSales.reduce((sum,s)=>sum+s.Price,0);await generateInvoice(items,total,sale,selectedVat);};// Add filtered sales logic\nconst filteredSales=sales.filter(sale=>{var _sale$product2,_sale$store,_sale$Price;const searchLower=searchTerm.toLowerCase();return(((_sale$product2=sale.product)===null||_sale$product2===void 0?void 0:_sale$product2.Product)||'').toLowerCase().includes(searchLower)||(sale.description||'').toLowerCase().includes(searchLower)||(((_sale$store=sale.store)===null||_sale$store===void 0?void 0:_sale$store.Name)||'').toLowerCase().includes(searchLower)||(sale.Time?new Date(sale.Time).toLocaleDateString('es-ES').includes(searchTerm):false)||(((_sale$Price=sale.Price)===null||_sale$Price===void 0?void 0:_sale$Price.toString())||'').includes(searchTerm);});if(loading)return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',minHeight:'100vh',backgroundColor:'hsl(0 0% 98%)',padding:'32px'},children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"main\",{style:{flex:1,display:'flex',alignItems:'center',justifyContent:'center',fontFamily:'system-ui',color:'hsl(215.4 16.3% 46.9%)'},children:\"Loading sales data...\"})]});return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',width:'100%',height:'100vh',position:'fixed',top:0,left:0,backgroundColor:'hsl(0 0% 98%)',color:'hsl(222.2 47.4% 11.2%)'},children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"main\",{style:{flex:1,marginLeft:isMobile?'50px':'0',height:'100vh',overflow:'auto',WebkitOverflowScrolling:'touch',position:'relative'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:isMobile?'8px':'32px',minWidth:isMobile?'800px':'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:isMobile?'column':'row',justifyContent:'space-between',alignItems:isMobile?'stretch':'center',gap:isMobile?'16px':'0',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:isMobile?'column':'row',alignItems:isMobile?'stretch':'center',gap:'16px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:isMobile?'20px':'24px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',margin:0,fontFamily:'system-ui',letterSpacing:'-0.025em'},children:store?`${store.charAt(0).toUpperCase()+store.slice(1)} Store`:'All Stores'}),/*#__PURE__*/_jsxs(\"select\",{value:timeFilter,onChange:e=>setTimeFilter(e.target.value),style:{padding:'8px 14px',borderRadius:'6px',border:'1px solid hsl(240 5.9% 90%)',fontSize:'14px',width:isMobile?'100%':'auto',color:'hsl(222.2 47.4% 11.2%)',backgroundColor:'white',cursor:'pointer',fontFamily:'system-ui',outline:'none'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"day\",children:\"Today\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yesterday\",children:\"Yesterday\"}),/*#__PURE__*/_jsx(\"option\",{value:\"week\",children:\"Last 7 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"month\",children:\"Last 30 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3months\",children:\"Last 3 Months\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12months\",children:\"Last 12 Months\"})]})]}),isMobile?null:/*#__PURE__*/_jsxs(\"div\",{style:{width:'300px',height:'80px',position:'relative',backgroundColor:'white',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)',padding:'12px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'10px',left:'12px',fontSize:'12px',fontWeight:'500',color:'hsl(215.4 16.3% 46.9%)',fontFamily:'system-ui'},children:\"Last 30 Days\"}),Array.isArray(chartData)&&chartData.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',height:'100%',alignItems:'flex-end',gap:'0px',paddingTop:'20px'},children:chartData.map((point,index)=>{const max=Math.max(...chartData.map(p=>p.amount));const height=max===0?0:point.amount/max*100;return/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',alignItems:'center',height:'100%'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:`${height}%`,backgroundColor:point.amount>0?'hsl(221.2 83.2% 71.8%)':'hsl(220 14% 96%)',borderRadius:'1px 1px 0 0',transition:'height 0.3s ease',minHeight:point.amount>0?'4px':'1px'},title:`${point.date}: €${point.amount.toFixed(2)}`})},index);})}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',height:'100%',color:'hsl(215.4 16.3% 46.9%)',fontSize:'12px',fontFamily:'system-ui'},children:\"No data available\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(3, 1fr)',gap:isMobile?'16px':'20px',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(StatsCard,{title:\"Today's Revenue\",value:todayRevenue,profitValue:(()=>{const dailyBreakeven=store?BREAKEVEN_COSTS[store]:BREAKEVEN_COSTS.total;return todayRevenue-dailyBreakeven;})()}),/*#__PURE__*/_jsx(StatsCard,{title:\"Yesterday's Revenue\",value:yesterdayRevenue,profitValue:(()=>{const dailyBreakeven=store?BREAKEVEN_COSTS[store]:BREAKEVEN_COSTS.total;return yesterdayRevenue-dailyBreakeven;})()}),store?/*#__PURE__*/_jsx(StatsCard,{title:`Daily Sales Breakeven (BE: ${BREAKEVEN_COSTS[store]}€)`,value:dailyProfit,isProfit:true}):/*#__PURE__*/_jsx(StatsCard,{title:`Daily Sales Breakeven (BE: ${BREAKEVEN_COSTS.total}€)`,value:dailyProfit,isProfit:true}),/*#__PURE__*/_jsx(StatsCard,{title:\"Current Month Revenue\",value:currentMonthRevenue,profitValue:(()=>{const today=new Date();const daysInMonth=new Date(today.getFullYear(),today.getMonth()+1,0).getDate();const monthlyBreakeven=store?BREAKEVEN_COSTS[store]*daysInMonth:BREAKEVEN_COSTS.total*daysInMonth;return currentMonthRevenue-monthlyBreakeven;})()}),/*#__PURE__*/_jsx(StatsCard,{title:\"Last Month Revenue\",value:lastMonthRevenue}),/*#__PURE__*/_jsx(StatsCard,{title:\"Total Revenue\",value:totalRevenue})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'1fr auto',gap:isMobile?'16px':'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)',overflow:'hidden',height:isMobile?'calc(100vh - 220px)':'calc(100vh - 280px)',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px 24px',borderBottom:'1px solid hsl(240 5.9% 90%)'},children:/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'16px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui',margin:0},children:\"Recent Sales\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px 24px',borderBottom:'1px solid hsl(240 5.9% 90%)',display:'flex',alignItems:'center',gap:'12px',backgroundColor:'white'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",style:{color:'hsl(215.4 16.3% 46.9%)'},children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m21 21-4.3-4.3\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search by store, product, description, date, or price...\",style:{flex:1,padding:'8px 12px',border:'1px solid hsl(240 5.9% 90%)',borderRadius:'6px',outline:'none',fontSize:'14px',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui','::placeholder':{color:'hsl(215.4 16.3% 46.9%)'}}})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflow:'auto',WebkitOverflowScrolling:'touch',position:'relative'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',minWidth:isMobile?'800px':'auto'},children:[/*#__PURE__*/_jsx(\"thead\",{style:{position:'sticky',top:0,backgroundColor:'hsl(0 0% 98%)',zIndex:2},children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'hsl(0 0% 98%)',borderBottom:'1px solid hsl(240 5.9% 90%)'},children:[/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Store\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredSales.map(sale=>{var _sale$store2,_sale$product3,_sale$Price2;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid hsl(240 5.9% 90%)',backgroundColor:'white',transition:'background-color 0.15s ease'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='hsl(210 40% 98%)';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='white';},children:[/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:((_sale$store2=sale.store)===null||_sale$store2===void 0?void 0:_sale$store2.Name)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:sale.Time?new Date(sale.Time).toLocaleDateString('es-ES'):'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:sale.Time?new Date(sale.Time).toLocaleTimeString('es-ES'):'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:((_sale$product3=sale.product)===null||_sale$product3===void 0?void 0:_sale$product3.Product)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:sale.description||'No description'}),/*#__PURE__*/_jsxs(\"td\",{style:{...cellStyle},children:[\"\\u20AC\",((_sale$Price2=sale.Price)===null||_sale$Price2===void 0?void 0:_sale$Price2.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'4px',alignItems:'center',flexWrap:isMobile?'wrap':'nowrap'},children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedVat,onChange:e=>setSelectedVat(Number(e.target.value)),style:{padding:isMobile?'4px 8px':'6px 10px',borderRadius:'6px',border:'1px solid hsl(240 5.9% 90%)',fontSize:'12px',width:isMobile?'80px':'auto',color:'hsl(222.2 47.4% 11.2%)',backgroundColor:'white',cursor:'pointer',fontFamily:'system-ui'},children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"IVA: 0%\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"IVA: 10%\"}),/*#__PURE__*/_jsx(\"option\",{value:21,children:\"IVA: 21%\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadInvoice(sale),style:{padding:isMobile?'4px 8px':'6px 12px',backgroundColor:'hsl(222.2 47.4% 11.2%)',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'12px',fontWeight:'500',whiteSpace:'nowrap',transition:'all 0.15s ease',fontFamily:'system-ui'},children:isMobile?'Download':'Download Invoice'})]})})]},sale.id);})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:isMobile?'100%':'400px',backgroundColor:'white',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)',overflow:'hidden',marginTop:isMobile?'16px':0},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px 24px',borderBottom:'1px solid hsl(240 5.9% 90%)'},children:/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'16px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui'},children:\"Product Stats\"})}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:isMobile?'400px':'calc(100vh - 300px)',overflowY:'auto',WebkitOverflowScrolling:'touch'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'hsl(0 0% 98%)',borderBottom:'1px solid hsl(240 5.9% 90%)'},children:[/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle,textAlign:'right'},children:\"Sales\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle,textAlign:'right'},children:\"Revenue\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:productStats.map(stat=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid hsl(240 5.9% 90%)',backgroundColor:'white',transition:'background-color 0.15s ease'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='hsl(210 40% 98%)';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='white';},children:[/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:stat.name}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle,textAlign:'right'},children:stat.count}),/*#__PURE__*/_jsxs(\"td\",{style:{...cellStyle,textAlign:'right'},children:[\"\\u20AC\",stat.totalRevenue.toFixed(2)]})]},stat.id))})]})})]})]})]})})]});}const headerStyle={padding:'12px 24px',textAlign:'left',fontSize:'12px',fontWeight:'500',color:'hsl(215.4 16.3% 46.9%)',fontFamily:'system-ui'};const cellStyle={padding:'12px 24px',fontSize:'13px',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui'};const StatsCard=_ref2=>{let{title,value,isProfit,profitValue}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'24px',backgroundColor:'white',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)',transition:'transform 0.2s ease, box-shadow 0.2s ease'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',fontWeight:'500',color:'hsl(215.4 16.3% 46.9%)',marginBottom:'8px',fontFamily:'system-ui'},children:title}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'baseline',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'600',color:isProfit!==undefined?value>=0?'hsl(142.1 76.2% 36.3%)':'hsl(0 84.2% 60.2%)':'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui'},children:[isProfit!==undefined?value>=0?'+':'':'€',value.toFixed(2),isProfit!==undefined?'€':'']}),profitValue!==undefined&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',fontWeight:'500',color:profitValue>=0?'hsl(142.1 76.2% 36.3%)':'hsl(0 84.2% 60.2%)',fontFamily:'system-ui'},children:[profitValue>=0?'+':'',profitValue.toFixed(2),\"\\u20AC\"]})]})]});};export default AdminSales;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useParams","API","generateInvoice","Sidebar","Box","Typography","Select","MenuItem","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Container","jsx","_jsx","jsxs","_jsxs","STORE_IDS","gaudi","mallorca","hospital","consell","paralel","TRACKING_START_DATE","BREAKEVEN_COSTS","total","mobileBreakpoint","AdminSales","sales","setSales","loading","setLoading","timeFilter","setTimeFilter","searchTerm","setSearchTerm","todayRevenue","setTodayRevenue","yesterdayRevenue","setYesterdayRevenue","lastMonthRevenue","setLastMonthRevenue","currentMonthRevenue","setCurrentMonthRevenue","lastWeekRevenue","setLastWeekRevenue","totalRevenue","setTotalRevenue","productStats","setProductStats","selectedVat","setSelectedVat","periodRevenue","setPeriodRevenue","dailyProfit","setDailyProfit","navigate","store","chartData","setChartData","isMobile","setIsMobile","window","innerWidth","fetchSales","_todayResponse$data","_todayResponse$data$d","_yesterdayResponse$da","_yesterdayResponse$da2","_currentMonthResponse","_currentMonthResponse2","_lastWeekResponse$dat","_lastWeekResponse$dat2","_allTimeResponse$data","_allTimeResponse$data2","_response$data","todayStart","Date","setHours","todayResponse","get","params","toISOString","todayTotal","data","reduce","sum","sale","parseFloat","Price","profit","yesterdayStart","setDate","getDate","yesterdayEnd","yesterdayResponse","yesterdayTotal","lastMonthStart","setMonth","getMonth","lastMonthEnd","_lastMonthResponse$da","_lastMonthResponse$da2","lastMonthResponse","lastMonthTotal","currentMonthStart","currentMonthResponse","currentMonthTotal","lastWeekStart","lastWeekResponse","lastWeekTotal","allTimeResponse","allTimeTotal","response","filteredSales","filter","Time","saleDate","currentDate","weekAgo","monthAgo","threeMonthsAgo","yearAgo","setFullYear","getFullYear","sortedSales","sort","a","b","getTime","last30Days","generateChartData","error","console","salesData","Array","isArray","dateMap","today","i","date","dateStr","toLocaleDateString","forEach","daysDiff","Math","floor","Object","entries","map","_ref","amount","fetchProductStats","allSales","stats","id","name","count","_sale$product","productId","product","price","productStat","find","s","token","localStorage","getItem","defaults","headers","common","handleResize","addEventListener","removeEventListener","handleDownloadInvoice","relatedSales","orderGroupId","saleTime","timeDiff","abs","log","length","items","_s$product","Product","description","_sale$product2","_sale$store","_sale$Price","searchLower","toLowerCase","includes","Name","toString","style","display","minHeight","backgroundColor","padding","children","flex","alignItems","justifyContent","fontFamily","color","width","height","position","top","left","marginLeft","overflow","WebkitOverflowScrolling","minWidth","flexDirection","gap","marginBottom","fontSize","fontWeight","margin","letterSpacing","charAt","toUpperCase","slice","value","onChange","e","target","borderRadius","border","cursor","outline","boxShadow","paddingTop","point","index","max","p","transition","title","toFixed","gridTemplateColumns","StatsCard","profitValue","dailyBreakeven","isProfit","daysInMonth","monthlyBreakeven","borderBottom","viewBox","fill","stroke","strokeWidth","cx","cy","r","d","type","placeholder","borderCollapse","zIndex","headerStyle","_sale$store2","_sale$product3","_sale$Price2","onMouseEnter","currentTarget","onMouseLeave","cellStyle","toLocaleTimeString","flexWrap","Number","onClick","whiteSpace","marginTop","maxHeight","overflowY","textAlign","stat","_ref2","undefined"],"sources":["/Users/oan/Desktop/POS/pos-frontend/src/components/admin/AdminSales.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport API from '../../services/api';\nimport { generateInvoice } from '../../utils/invoice';\nimport Sidebar from './Sidebar';\nimport {\n  Box,\n  Typography,\n  Select,\n  MenuItem,\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Container\n} from '@mui/material';\n\nconst STORE_IDS = {\n  gaudi: 5,\n  mallorca: 3,\n  hospital: 7,\n  consell: 14,\n  paralel: 1\n};\n\n// Add the start date constant\nconst TRACKING_START_DATE = '2025-06-01T00:00:00.000Z';\n\nconst BREAKEVEN_COSTS = {\n  gaudi: 280,\n  hospital: 320,\n  mallorca: 227,\n  consell: 224,\n  paralel: 872,\n  total: 1913 // 313 + 277 + 227 + 224 + 872\n};\n\n// Add these styles at the top of the component\nconst mobileBreakpoint = '768px'; // Standard tablet/phone breakpoint\n\nfunction AdminSales() {\n  const [sales, setSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [timeFilter, setTimeFilter] = useState('day');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [todayRevenue, setTodayRevenue] = useState(0);\n  const [yesterdayRevenue, setYesterdayRevenue] = useState(0);\n  const [lastMonthRevenue, setLastMonthRevenue] = useState(0);\n  const [currentMonthRevenue, setCurrentMonthRevenue] = useState(0);\n  const [lastWeekRevenue, setLastWeekRevenue] = useState(0);\n  const [totalRevenue, setTotalRevenue] = useState(0);\n  const [productStats, setProductStats] = useState([]);\n  const [selectedVat, setSelectedVat] = useState(0);\n  const [periodRevenue, setPeriodRevenue] = useState(0);\n  const [dailyProfit, setDailyProfit] = useState(0);\n  const navigate = useNavigate();\n  const { store } = useParams();\n\n  // For chart visualization - this would be populated from your API data\n  const [chartData, setChartData] = useState([]);\n\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n\n  const fetchSales = useCallback(async () => {\n    try {\n      // Get today's sales\n      const todayStart = new Date();\n      todayStart.setHours(0, 0, 0, 0);\n      \n      const todayResponse = await API.get('/api/sales', {\n        params: {\n          'filters[Time][$gte]': todayStart.toISOString(),\n          'populate': ['*', 'store', 'product'],\n          ...(store && STORE_IDS[store] ? {\n            'filters[store][id][$eq]': STORE_IDS[store]\n          } : {})\n        }\n      });\n\n      const todayTotal = todayResponse.data?.data?.reduce((sum, sale) => \n        sum + (parseFloat(sale.Price) || 0), 0\n      ) || 0;\n      setTodayRevenue(todayTotal);\n\n      // Calculate profit if we're on a store page or general view\n      if (store) {\n        const profit = todayTotal - BREAKEVEN_COSTS[store];\n        setDailyProfit(profit);\n      } else {\n        // For general view (all stores)\n        const profit = todayTotal - BREAKEVEN_COSTS.total;\n        setDailyProfit(profit);\n      }\n\n      // Get yesterday's sales\n      const yesterdayStart = new Date();\n      yesterdayStart.setDate(yesterdayStart.getDate() - 1);\n      yesterdayStart.setHours(0, 0, 0, 0);\n      const yesterdayEnd = new Date(todayStart);\n\n      const yesterdayResponse = await API.get('/api/sales', {\n        params: {\n          'filters[Time][$gte]': yesterdayStart.toISOString(),\n          'filters[Time][$lt]': yesterdayEnd.toISOString(),\n          'populate': ['*', 'store', 'product'],\n          ...(store && STORE_IDS[store] ? {\n            'filters[store][id][$eq]': STORE_IDS[store]\n          } : {})\n        }\n      });\n\n      const yesterdayTotal = yesterdayResponse.data?.data?.reduce((sum, sale) => \n        sum + (parseFloat(sale.Price) || 0), 0\n      ) || 0;\n      setYesterdayRevenue(yesterdayTotal);\n\n      // Get last month's sales (1st to last day of previous month)\n      const lastMonthStart = new Date();\n      lastMonthStart.setMonth(lastMonthStart.getMonth() - 1);\n      lastMonthStart.setDate(1);\n      lastMonthStart.setHours(0, 0, 0, 0);\n      \n      const lastMonthEnd = new Date();\n      lastMonthEnd.setDate(0); // Last day of previous month\n      lastMonthEnd.setHours(23, 59, 59, 999);\n\n      // Only fetch last month's data if we're past July 2025\n      if (new Date() > new Date('2025-07-01')) {\n        const lastMonthResponse = await API.get('/api/sales', {\n          params: {\n            'filters[Time][$gte]': lastMonthStart.toISOString(),\n            'filters[Time][$lte]': lastMonthEnd.toISOString(),\n            'populate': ['*', 'store', 'product'],\n            ...(store && STORE_IDS[store] ? {\n              'filters[store][id][$eq]': STORE_IDS[store]\n            } : {})\n          }\n        });\n\n        const lastMonthTotal = lastMonthResponse.data?.data?.reduce((sum, sale) => \n          sum + (parseFloat(sale.Price) || 0), 0\n        ) || 0;\n        setLastMonthRevenue(lastMonthTotal);\n      } else {\n        setLastMonthRevenue(0);\n      }\n\n      // Get current month's sales (1st to present)\n      const currentMonthStart = new Date();\n      currentMonthStart.setDate(1);\n      currentMonthStart.setHours(0, 0, 0, 0);\n\n      const currentMonthResponse = await API.get('/api/sales', {\n        params: {\n          'filters[Time][$gte]': currentMonthStart.toISOString(),\n          'populate': ['*', 'store', 'product'],\n          ...(store && STORE_IDS[store] ? {\n            'filters[store][id][$eq]': STORE_IDS[store]\n          } : {})\n        }\n      });\n\n      const currentMonthTotal = currentMonthResponse.data?.data?.reduce((sum, sale) => \n        sum + (parseFloat(sale.Price) || 0), 0\n      ) || 0;\n      setCurrentMonthRevenue(currentMonthTotal);\n\n      // Get last week's sales\n      const lastWeekStart = new Date();\n      lastWeekStart.setDate(lastWeekStart.getDate() - 7);\n      lastWeekStart.setHours(0, 0, 0, 0);\n\n      const lastWeekResponse = await API.get('/api/sales', {\n        params: {\n          'filters[Time][$gte]': lastWeekStart.toISOString(),\n          'populate': ['*', 'store', 'product'],\n          ...(store && STORE_IDS[store] ? {\n            'filters[store][id][$eq]': STORE_IDS[store]\n          } : {})\n        }\n      });\n\n      const lastWeekTotal = lastWeekResponse.data?.data?.reduce((sum, sale) => \n        sum + (parseFloat(sale.Price) || 0), 0\n      ) || 0;\n      setLastWeekRevenue(lastWeekTotal);\n\n      // Get all-time sales\n      const allTimeResponse = await API.get('/api/sales', {\n        params: {\n          'filters[Time][$gte]': TRACKING_START_DATE,\n          'populate': ['*', 'store', 'product'],\n          ...(store && STORE_IDS[store] ? {\n            'filters[store][id][$eq]': STORE_IDS[store]\n          } : {})\n        }\n      });\n\n      const allTimeTotal = allTimeResponse.data?.data?.reduce((sum, sale) => \n        sum + (parseFloat(sale.Price) || 0), 0\n      ) || 0;\n      setTotalRevenue(allTimeTotal);\n\n      // Get all sales for the table and chart\n      const response = await API.get('/api/sales', {\n        params: {\n          'populate': ['*', 'store', 'product'],\n          ...(store && STORE_IDS[store] ? {\n            'filters[store][id][$eq]': STORE_IDS[store]\n          } : {})\n        }\n      });\n\n      if (!response.data?.data) {\n        setSales([]);\n        setChartData([]);\n        return;\n      }\n\n      const filteredSales = response.data.data.filter(sale => {\n        if (!sale.Time) return false;\n        const saleDate = new Date(sale.Time);\n        const currentDate = new Date();\n        \n        switch (timeFilter) {\n          case 'day':\n            return saleDate >= todayStart;\n          case 'yesterday':\n            return saleDate >= yesterdayStart && saleDate < yesterdayEnd;\n          case 'week':\n            const weekAgo = new Date(currentDate);\n            weekAgo.setDate(weekAgo.getDate() - 7);\n            return saleDate >= weekAgo;\n          case 'month':\n            const monthAgo = new Date(currentDate);\n            monthAgo.setMonth(monthAgo.getMonth() - 1);\n            return saleDate >= monthAgo;\n          case '3months':\n            const threeMonthsAgo = new Date(currentDate);\n            threeMonthsAgo.setMonth(threeMonthsAgo.getMonth() - 3);\n            return saleDate >= threeMonthsAgo;\n          case '12months':\n            const yearAgo = new Date(currentDate);\n            yearAgo.setFullYear(yearAgo.getFullYear() - 1);\n            return saleDate >= yearAgo;\n          default:\n            return true;\n        }\n      });\n\n      // Sort by date (newest first)\n      const sortedSales = filteredSales.sort((a, b) => \n        new Date(b.Time).getTime() - new Date(a.Time).getTime()\n      );\n      \n      setSales(sortedSales);\n\n      // Generate chart data\n      const last30Days = generateChartData(sortedSales);\n      setChartData(last30Days);\n\n    } catch (error) {\n      console.error('Error fetching sales:', error);\n      setSales([]);\n      setChartData([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [store, timeFilter]);\n\n  const generateChartData = useCallback((salesData) => {\n    if (!Array.isArray(salesData)) return [];\n    \n    const dateMap = {};\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    \n    // Initialize last 30 days with 0\n    for (let i = 29; i >= 0; i--) {\n      const date = new Date(today);\n      date.setDate(date.getDate() - i);\n      const dateStr = date.toLocaleDateString('es-ES');\n      dateMap[dateStr] = 0;\n    }\n    \n    // Fill in actual sales data\n    salesData.forEach(sale => {\n      if (!sale?.Time) return;\n      const saleDate = new Date(sale.Time);\n      saleDate.setHours(0, 0, 0, 0);\n      \n      const daysDiff = Math.floor((today - saleDate) / (1000 * 60 * 60 * 24));\n      if (daysDiff <= 29) {\n        const dateStr = saleDate.toLocaleDateString('es-ES');\n        dateMap[dateStr] = (dateMap[dateStr] || 0) + (parseFloat(sale.Price) || 0);\n      }\n    });\n    \n    return Object.entries(dateMap).map(([date, amount]) => ({\n      date,\n      amount\n    }));\n  }, []);\n\n  const fetchProductStats = useCallback(async () => {\n    try {\n      // Get sales for all stores or specific store, starting from June 1st, 2025\n      const response = await API.get('/api/sales', {\n        params: {\n          'filters[Time][$gte]': TRACKING_START_DATE,\n          'populate': ['product', 'store'],\n          ...(store && STORE_IDS[store] ? {\n            'filters[store][id][$eq]': STORE_IDS[store]\n          } : {})\n        }\n      });\n      const allSales = response.data.data;\n\n      // Map products to their stats (full list from ProductStats.jsx)\n      const stats = [\n        { id: 1, name: \"Phone\", count: 0, totalRevenue: 0 },\n        { id: 3, name: \"Laptop\", count: 0, totalRevenue: 0 },\n        { id: 5, name: \"Funda\", count: 0, totalRevenue: 0 },\n        { id: 7, name: \"Charger\", count: 0, totalRevenue: 0 },\n        { id: 9, name: \"Figura\", count: 0, totalRevenue: 0 },\n        { id: 11, name: \"Voda SIM\", count: 0, totalRevenue: 0 },\n        { id: 13, name: \"Protector\", count: 0, totalRevenue: 0 },\n        { id: 15, name: \"Hydrogel Protector\", count: 0, totalRevenue: 0 },\n        { id: 17, name: \"Cordón\", count: 0, totalRevenue: 0 },\n        { id: 19, name: \"BT Headphones\", count: 0, totalRevenue: 0 },\n        { id: 21, name: \"BT Speaker\", count: 0, totalRevenue: 0 },\n        { id: 23, name: \"Souvenir\", count: 0, totalRevenue: 0 },\n        { id: 25, name: \"Headphones\", count: 0, totalRevenue: 0 },\n        { id: 27, name: \"Cable\", count: 0, totalRevenue: 0 },\n        { id: 29, name: \"Cargador Set\", count: 0, totalRevenue: 0 },\n        { id: 31, name: \"Power Bank\", count: 0, totalRevenue: 0 },\n        { id: 33, name: \"Recarga\", count: 0, totalRevenue: 0 },\n        { id: 35, name: \"Print\", count: 0, totalRevenue: 0 },\n        { id: 37, name: \"Adapter\", count: 0, totalRevenue: 0 },\n        { id: 39, name: \"Gafas\", count: 0, totalRevenue: 0 },\n        { id: 41, name: \"Repair\", count: 0, totalRevenue: 0 },\n        { id: 43, name: \"Data transfer\", count: 0, totalRevenue: 0 },\n        { id: 45, name: \"Smartwatch\", count: 0, totalRevenue: 0 },\n        { id: 47, name: \"Lyca SIM\", count: 0, totalRevenue: 0 },\n        { id: 49, name: \"Raton\", count: 0, totalRevenue: 0 },\n        { id: 51, name: \"Watch Strap\", count: 0, totalRevenue: 0 },\n        { id: 53, name: \"USB Drive\", count: 0, totalRevenue: 0 },\n        { id: 55, name: \"Drink\", count: 0, totalRevenue: 0 },\n        { id: 57, name: \"Umbrella\", count: 0, totalRevenue: 0 },\n        { id: 59, name: \"Car Phone Mount\", count: 0, totalRevenue: 0 },\n        { id: 61, name: \"Shave Machine\", count: 0, totalRevenue: 0 },\n        { id: 63, name: \"Funda headphone\", count: 0, totalRevenue: 0 },\n        { id: 65, name: \"iPad\", count: 0, totalRevenue: 0 },\n        { id: 67, name: \"iPad funda\", count: 0, totalRevenue: 0 },\n        { id: 69, name: \"Macbook protector\", count: 0, totalRevenue: 0 },\n        { id: 71, name: \"Anime shirt\", count: 0, totalRevenue: 0 },\n        { id: 73, name: \"PC\", count: 0, totalRevenue: 0 },\n        { id: 75, name: \"Keyboard\", count: 0, totalRevenue: 0 },\n        { id: 77, name: \"Laptop (not MacBook)\", count: 0, totalRevenue: 0 },\n        { id: 79, name: \"iMac\", count: 0, totalRevenue: 0 },\n        { id: 82, name: \"Lyca SIM\", count: 0, totalRevenue: 0 },\n        { id: 85, name: \"Selfie Stick\", count: 0, totalRevenue: 0 },\n        { id: 87, name: \"OTG\", count: 0, totalRevenue: 0 },\n        { id: 89, name: \"Pilas\", count: 0, totalRevenue: 0 },\n        { id: 91, name: \"Soporte\", count: 0, totalRevenue: 0 },\n        { id: 93, name: \"SD Card\", count: 0, totalRevenue: 0 },\n        { id: 95, name: \"Dryer\", count: 0, totalRevenue: 0 },\n        { id: 97, name: \"Plancha\", count: 0, totalRevenue: 0 },\n        { id: 99, name: \"Mando\", count: 0, totalRevenue: 0 },\n        { id: 101, name: \"Trimmer\", count: 0, totalRevenue: 0 },\n        { id: 103, name: \"Cannabis\", count: 0, totalRevenue: 0 },\n        { id: 105, name: \"Perfumería\", count: 0, totalRevenue: 0 }\n      ];\n\n      // Process each sale\n      allSales.forEach(sale => {\n        const productId = sale.product?.id;\n        const price = parseFloat(sale.Price || 0);\n\n        const productStat = stats.find(s => s.id === productId);\n        if (productStat) {\n          productStat.count += 1;\n          productStat.totalRevenue += price;\n        }\n      });\n\n      // Sort by revenue\n      stats.sort((a, b) => b.totalRevenue - a.totalRevenue);\n      setProductStats(stats);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }, [store]);\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    \n    API.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    fetchSales();\n    fetchProductStats();\n  }, [store, timeFilter, fetchSales, fetchProductStats, navigate]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const handleDownloadInvoice = async (sale) => {\n    // Find related sales either by orderGroupId or by time (within 1 second)\n    let relatedSales;\n    \n    if (sale.orderGroupId) {\n      // If orderGroupId exists, use it\n      relatedSales = sales.filter(s => s.orderGroupId === sale.orderGroupId);\n    } else {\n      // Fallback to time-based grouping for older sales\n      const saleTime = new Date(sale.Time).getTime();\n      relatedSales = sales.filter(s => {\n        const timeDiff = Math.abs(new Date(s.Time).getTime() - saleTime);\n        return timeDiff < 1000;\n      });\n    }\n    \n    console.log('Related sales:', relatedSales);\n    \n    if (relatedSales.length === 0) {\n      console.error('No related sales found for sale:', sale);\n      return;\n    }\n\n    const items = relatedSales.map(s => ({\n      product: { \n        Product: s.product?.Product || 'Producto no especificado'\n      },\n      price: s.Price,\n      description: s.description || ''\n    }));\n    \n    const total = relatedSales.reduce((sum, s) => sum + s.Price, 0);\n    \n    await generateInvoice(items, total, sale, selectedVat);\n  };\n\n  // Add filtered sales logic\n  const filteredSales = sales.filter(sale => {\n    const searchLower = searchTerm.toLowerCase();\n    return (\n      (sale.product?.Product || '').toLowerCase().includes(searchLower) ||\n      (sale.description || '').toLowerCase().includes(searchLower) ||\n      (sale.store?.Name || '').toLowerCase().includes(searchLower) ||\n      (sale.Time ? new Date(sale.Time).toLocaleDateString('es-ES').includes(searchTerm) : false) ||\n      (sale.Price?.toString() || '').includes(searchTerm)\n    );\n  });\n\n  if (loading) return (\n    <div style={{\n      display: 'flex',\n      minHeight: '100vh',\n      backgroundColor: 'hsl(0 0% 98%)',\n      padding: '32px'\n    }}>\n      <Sidebar />\n      <main style={{\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        fontFamily: 'system-ui',\n        color: 'hsl(215.4 16.3% 46.9%)'\n      }}>\n        Loading sales data...\n      </main>\n    </div>\n  );\n\n  return (\n    <div style={{ \n      display: 'flex',\n      width: '100%',\n      height: '100vh',\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      backgroundColor: 'hsl(0 0% 98%)',\n      color: 'hsl(222.2 47.4% 11.2%)'\n    }}>\n      <Sidebar />\n      \n      <main style={{\n        flex: 1,\n        marginLeft: isMobile ? '50px' : '0',\n        height: '100vh',\n        overflow: 'auto',\n        WebkitOverflowScrolling: 'touch',\n        position: 'relative'\n      }}>\n        <div style={{\n          padding: isMobile ? '8px' : '32px',\n          minWidth: isMobile ? '800px' : 'auto',\n        }}>\n          {/* Header Section */}\n          <div style={{\n            display: 'flex',\n            flexDirection: isMobile ? 'column' : 'row',\n            justifyContent: 'space-between',\n            alignItems: isMobile ? 'stretch' : 'center',\n            gap: isMobile ? '16px' : '0',\n            marginBottom: '24px'\n          }}>\n            <div style={{ \n              display: 'flex', \n              flexDirection: isMobile ? 'column' : 'row',\n              alignItems: isMobile ? 'stretch' : 'center',\n              gap: '16px' \n            }}>\n              <h1 style={{\n                fontSize: isMobile ? '20px' : '24px',\n                fontWeight: '600',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                margin: 0,\n                fontFamily: 'system-ui',\n                letterSpacing: '-0.025em'\n              }}>\n                {store ? `${store.charAt(0).toUpperCase() + store.slice(1)} Store` : 'All Stores'}\n              </h1>\n              \n              <select\n                value={timeFilter}\n                onChange={(e) => setTimeFilter(e.target.value)}\n                style={{\n                  padding: '8px 14px',\n                  borderRadius: '6px',\n                  border: '1px solid hsl(240 5.9% 90%)',\n                  fontSize: '14px',\n                  width: isMobile ? '100%' : 'auto',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  backgroundColor: 'white',\n                  cursor: 'pointer',\n                  fontFamily: 'system-ui',\n                  outline: 'none'\n                }}\n              >\n                <option value=\"all\">All Time</option>\n                <option value=\"day\">Today</option>\n                <option value=\"yesterday\">Yesterday</option>\n                <option value=\"week\">Last 7 Days</option>\n                <option value=\"month\">Last 30 Days</option>\n                <option value=\"3months\">Last 3 Months</option>\n                <option value=\"12months\">Last 12 Months</option>\n              </select>\n            </div>\n            \n            {/* Chart - Hide on mobile */}\n            {isMobile ? null : (\n              <div style={{\n                width: '300px',\n                height: '80px',\n                position: 'relative',\n                backgroundColor: 'white',\n                borderRadius: '8px',\n                border: '1px solid hsl(240 5.9% 90%)',\n                padding: '12px',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n              }}>\n                <div style={{\n                  position: 'absolute',\n                  top: '10px',\n                  left: '12px',\n                  fontSize: '12px',\n                  fontWeight: '500',\n                  color: 'hsl(215.4 16.3% 46.9%)',\n                  fontFamily: 'system-ui'\n                }}>\n                  Last 30 Days\n                </div>\n                \n                {Array.isArray(chartData) && chartData.length > 0 ? (\n                  <div style={{\n                    display: 'flex',\n                    height: '100%',\n                    alignItems: 'flex-end',\n                    gap: '0px',\n                    paddingTop: '20px'\n                  }}>\n                    {chartData.map((point, index) => {\n                      const max = Math.max(...chartData.map(p => p.amount));\n                      const height = max === 0 ? 0 : (point.amount / max) * 100;\n                      \n                      return (\n                        <div key={index} style={{ \n                          flex: 1, \n                          display: 'flex', \n                          flexDirection: 'column',\n                          alignItems: 'center',\n                          height: '100%'\n                        }}>\n                          <div \n                            style={{\n                              width: '100%',\n                              height: `${height}%`,\n                              backgroundColor: point.amount > 0 \n                                ? 'hsl(221.2 83.2% 71.8%)' \n                                : 'hsl(220 14% 96%)',\n                              borderRadius: '1px 1px 0 0',\n                              transition: 'height 0.3s ease',\n                              minHeight: point.amount > 0 ? '4px' : '1px'\n                            }}\n                            title={`${point.date}: €${point.amount.toFixed(2)}`}\n                          />\n                        </div>\n                      );\n                    })}\n                  </div>\n                ) : (\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    height: '100%',\n                    color: 'hsl(215.4 16.3% 46.9%)',\n                    fontSize: '12px',\n                    fontFamily: 'system-ui'\n                  }}>\n                    No data available\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Stats Cards */}\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: isMobile ? '1fr' : 'repeat(3, 1fr)',\n            gap: isMobile ? '16px' : '20px',\n            marginBottom: '24px'\n          }}>\n            {/* Today's Revenue */}\n            <StatsCard\n              title=\"Today's Revenue\"\n              value={todayRevenue}\n              profitValue={(() => {\n                const dailyBreakeven = store ? BREAKEVEN_COSTS[store] : BREAKEVEN_COSTS.total;\n                return todayRevenue - dailyBreakeven;\n              })()}\n            />\n\n            {/* Yesterday's Revenue */}\n            <StatsCard\n              title=\"Yesterday's Revenue\"\n              value={yesterdayRevenue}\n              profitValue={(() => {\n                const dailyBreakeven = store ? BREAKEVEN_COSTS[store] : BREAKEVEN_COSTS.total;\n                return yesterdayRevenue - dailyBreakeven;\n              })()}\n            />\n\n            {/* Profit/Loss Calculator */}\n            {store ? (\n              <StatsCard\n                title={`Daily Sales Breakeven (BE: ${BREAKEVEN_COSTS[store]}€)`}\n                value={dailyProfit}\n                isProfit={true}\n              />\n            ) : (\n              <StatsCard\n                title={`Daily Sales Breakeven (BE: ${BREAKEVEN_COSTS.total}€)`}\n                value={dailyProfit}\n                isProfit={true}\n              />\n            )}\n\n            {/* Current Month Revenue with Profit/Loss */}\n            <StatsCard\n              title=\"Current Month Revenue\"\n              value={currentMonthRevenue}\n              profitValue={(() => {\n                const today = new Date();\n                const daysInMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();\n                const monthlyBreakeven = store \n                  ? BREAKEVEN_COSTS[store] * daysInMonth \n                  : BREAKEVEN_COSTS.total * daysInMonth;\n                return currentMonthRevenue - monthlyBreakeven;\n              })()}\n            />\n\n            {/* Last Month Revenue */}\n            <StatsCard\n              title=\"Last Month Revenue\"\n              value={lastMonthRevenue}\n            />\n\n            {/* Total Revenue */}\n            <StatsCard\n              title=\"Total Revenue\"\n              value={totalRevenue}\n            />\n          </div>\n\n          {/* Main Content Grid */}\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: isMobile ? '1fr' : '1fr auto',\n            gap: isMobile ? '16px' : '24px'\n          }}>\n            {/* Sales Table */}\n            <div style={{\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              overflow: 'hidden',\n              height: isMobile ? 'calc(100vh - 220px)' : 'calc(100vh - 280px)',\n              display: 'flex',\n              flexDirection: 'column'\n            }}>\n              <div style={{\n                padding: '16px 24px',\n                borderBottom: '1px solid hsl(240 5.9% 90%)'\n              }}>\n                <h2 style={{\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui',\n                  margin: 0\n                }}>\n                  Recent Sales\n                </h2>\n              </div>\n\n              {/* Add Search Bar */}\n              <div style={{\n                padding: '16px 24px',\n                borderBottom: '1px solid hsl(240 5.9% 90%)',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px',\n                backgroundColor: 'white'\n              }}>\n                <svg \n                  width=\"16\" \n                  height=\"16\" \n                  viewBox=\"0 0 24 24\" \n                  fill=\"none\" \n                  stroke=\"currentColor\" \n                  strokeWidth=\"2\"\n                  style={{ color: 'hsl(215.4 16.3% 46.9%)' }}\n                >\n                  <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n                  <path d=\"m21 21-4.3-4.3\"/>\n                </svg>\n                <input\n                  type=\"text\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  placeholder=\"Search by store, product, description, date, or price...\"\n                  style={{\n                    flex: 1,\n                    padding: '8px 12px',\n                    border: '1px solid hsl(240 5.9% 90%)',\n                    borderRadius: '6px',\n                    outline: 'none',\n                    fontSize: '14px',\n                    color: 'hsl(222.2 47.4% 11.2%)',\n                    fontFamily: 'system-ui',\n                    '::placeholder': {\n                      color: 'hsl(215.4 16.3% 46.9%)'\n                    }\n                  }}\n                />\n              </div>\n\n              <div style={{\n                flex: 1,\n                overflow: 'auto',\n                WebkitOverflowScrolling: 'touch',\n                position: 'relative'\n              }}>\n                <table style={{\n                  width: '100%',\n                  borderCollapse: 'collapse',\n                  minWidth: isMobile ? '800px' : 'auto'\n                }}>\n                  <thead style={{\n                    position: 'sticky',\n                    top: 0,\n                    backgroundColor: 'hsl(0 0% 98%)',\n                    zIndex: 2\n                  }}>\n                    <tr style={{\n                      backgroundColor: 'hsl(0 0% 98%)',\n                      borderBottom: '1px solid hsl(240 5.9% 90%)'\n                    }}>\n                      <th style={{ ...headerStyle }}>Store</th>\n                      <th style={{ ...headerStyle }}>Date</th>\n                      <th style={{ ...headerStyle }}>Time</th>\n                      <th style={{ ...headerStyle }}>Product</th>\n                      <th style={{ ...headerStyle }}>Description</th>\n                      <th style={{ ...headerStyle }}>Price</th>\n                      <th style={{ ...headerStyle }}>Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {filteredSales.map((sale) => (\n                      <tr \n                        key={sale.id}\n                        style={{\n                          borderBottom: '1px solid hsl(240 5.9% 90%)',\n                          backgroundColor: 'white',\n                          transition: 'background-color 0.15s ease'\n                        }}\n                        onMouseEnter={(e) => {\n                          e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.currentTarget.style.backgroundColor = 'white';\n                        }}\n                      >\n                        <td style={{ ...cellStyle }}>\n                          {sale.store?.Name || 'N/A'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          {sale.Time ? new Date(sale.Time).toLocaleDateString('es-ES') : 'N/A'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          {sale.Time ? new Date(sale.Time).toLocaleTimeString('es-ES') : 'N/A'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          {sale.product?.Product || 'N/A'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          {sale.description || 'No description'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          €{sale.Price?.toFixed(2) || '0.00'}\n                        </td>\n                        <td style={{ ...cellStyle }}>\n                          <div style={{\n                            display: 'flex',\n                            gap: '4px',\n                            alignItems: 'center',\n                            flexWrap: isMobile ? 'wrap' : 'nowrap'\n                          }}>\n                            <select\n                              value={selectedVat}\n                              onChange={(e) => setSelectedVat(Number(e.target.value))}\n                              style={{\n                                padding: isMobile ? '4px 8px' : '6px 10px',\n                                borderRadius: '6px',\n                                border: '1px solid hsl(240 5.9% 90%)',\n                                fontSize: '12px',\n                                width: isMobile ? '80px' : 'auto',\n                                color: 'hsl(222.2 47.4% 11.2%)',\n                                backgroundColor: 'white',\n                                cursor: 'pointer',\n                                fontFamily: 'system-ui'\n                              }}\n                            >\n                              <option value={0}>IVA: 0%</option>\n                              <option value={10}>IVA: 10%</option>\n                              <option value={21}>IVA: 21%</option>\n                            </select>\n                            <button\n                              onClick={() => handleDownloadInvoice(sale)}\n                              style={{\n                                padding: isMobile ? '4px 8px' : '6px 12px',\n                                backgroundColor: 'hsl(222.2 47.4% 11.2%)',\n                                color: 'white',\n                                border: 'none',\n                                borderRadius: '6px',\n                                cursor: 'pointer',\n                                fontSize: '12px',\n                                fontWeight: '500',\n                                whiteSpace: 'nowrap',\n                                transition: 'all 0.15s ease',\n                                fontFamily: 'system-ui'\n                              }}\n                            >\n                              {isMobile ? 'Download' : 'Download Invoice'}\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            {/* Product Stats */}\n            <div style={{\n              width: isMobile ? '100%' : '400px',\n              backgroundColor: 'white',\n              borderRadius: '8px',\n              border: '1px solid hsl(240 5.9% 90%)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              overflow: 'hidden',\n              marginTop: isMobile ? '16px' : 0\n            }}>\n              <div style={{\n                padding: '16px 24px',\n                borderBottom: '1px solid hsl(240 5.9% 90%)'\n              }}>\n                <h2 style={{\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui'\n                }}>\n                  Product Stats\n                </h2>\n              </div>\n\n              <div style={{\n                maxHeight: isMobile ? '400px' : 'calc(100vh - 300px)',\n                overflowY: 'auto',\n                WebkitOverflowScrolling: 'touch'\n              }}>\n                <table style={{\n                  width: '100%',\n                  borderCollapse: 'collapse'\n                }}>\n                  <thead>\n                    <tr style={{\n                      backgroundColor: 'hsl(0 0% 98%)',\n                      borderBottom: '1px solid hsl(240 5.9% 90%)'\n                    }}>\n                      <th style={{ ...headerStyle }}>Product</th>\n                      <th style={{ ...headerStyle, textAlign: 'right' }}>Sales</th>\n                      <th style={{ ...headerStyle, textAlign: 'right' }}>Revenue</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {productStats.map((stat) => (\n                      <tr \n                        key={stat.id}\n                        style={{\n                          borderBottom: '1px solid hsl(240 5.9% 90%)',\n                          backgroundColor: 'white',\n                          transition: 'background-color 0.15s ease'\n                        }}\n                        onMouseEnter={(e) => {\n                          e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.currentTarget.style.backgroundColor = 'white';\n                        }}\n                      >\n                        <td style={{ ...cellStyle }}>{stat.name}</td>\n                        <td style={{ ...cellStyle, textAlign: 'right' }}>{stat.count}</td>\n                        <td style={{ ...cellStyle, textAlign: 'right' }}>€{stat.totalRevenue.toFixed(2)}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nconst headerStyle = {\n  padding: '12px 24px',\n  textAlign: 'left',\n  fontSize: '12px',\n  fontWeight: '500',\n  color: 'hsl(215.4 16.3% 46.9%)',\n  fontFamily: 'system-ui'\n};\n\nconst cellStyle = {\n  padding: '12px 24px',\n  fontSize: '13px',\n  color: 'hsl(222.2 47.4% 11.2%)',\n  fontFamily: 'system-ui'\n};\n\nconst StatsCard = ({ title, value, isProfit, profitValue }) => (\n  <div style={{\n    padding: '24px',\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    border: '1px solid hsl(240 5.9% 90%)',\n    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n    transition: 'transform 0.2s ease, box-shadow 0.2s ease'\n  }}>\n    <div style={{\n      fontSize: '13px',\n      fontWeight: '500',\n      color: 'hsl(215.4 16.3% 46.9%)',\n      marginBottom: '8px',\n      fontFamily: 'system-ui'\n    }}>\n      {title}\n    </div>\n    <div style={{\n      display: 'flex',\n      alignItems: 'baseline',\n      gap: '8px'\n    }}>\n      <div style={{\n        fontSize: '24px',\n        fontWeight: '600',\n        color: isProfit !== undefined \n          ? (value >= 0 ? 'hsl(142.1 76.2% 36.3%)' : 'hsl(0 84.2% 60.2%)')\n          : 'hsl(222.2 47.4% 11.2%)',\n        fontFamily: 'system-ui'\n      }}>\n        {isProfit !== undefined ? (value >= 0 ? '+' : '') : '€'}\n        {value.toFixed(2)}\n        {isProfit !== undefined ? '€' : ''}\n      </div>\n      {profitValue !== undefined && (\n        <div style={{\n          fontSize: '14px',\n          fontWeight: '500',\n          color: profitValue >= 0 ? 'hsl(142.1 76.2% 36.3%)' : 'hsl(0 84.2% 60.2%)',\n          fontFamily: 'system-ui'\n        }}>\n          {profitValue >= 0 ? '+' : ''}\n          {profitValue.toFixed(2)}€\n        </div>\n      )}\n    </div>\n  </div>\n);\n\nexport default AdminSales; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}