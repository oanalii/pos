{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import API from'../services/api';import{generateInvoice}from'../utils/invoice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SalesDashboard(){const[sales,setSales]=useState([]);const[loading,setLoading]=useState(true);const[selectedVat,setSelectedVat]=useState(0);const[searchTerm,setSearchTerm]=useState('');const[todayRevenue,setTodayRevenue]=useState(0);const[yesterdayRevenue,setYesterdayRevenue]=useState(0);const[todayCashStats,setTodayCashStats]=useState({count:0,amount:0});const[todayCardStats,setTodayCardStats]=useState({count:0,amount:0});const navigate=useNavigate();const storeId=localStorage.getItem('storeId');useEffect(()=>{const token=localStorage.getItem('jwtToken');if(!token){navigate('/login');return;}const fetchSales=async()=>{try{var _todayResponse$data,_yesterdayResponse$da,_yesterdayResponse$da2;// Get today's sales\nconst todayStart=new Date();todayStart.setHours(0,0,0,0);const todayResponse=await API.get('/api/sales',{params:{'filters[store][id][$eq]':storeId,'filters[Time][$gte]':todayStart.toISOString(),'populate':['*','product']}});const todaySales=((_todayResponse$data=todayResponse.data)===null||_todayResponse$data===void 0?void 0:_todayResponse$data.data)||[];// Calculate payment method stats\nconst cashSales=todaySales.filter(sale=>{var _sale$paymentmethod;return((_sale$paymentmethod=sale.paymentmethod)===null||_sale$paymentmethod===void 0?void 0:_sale$paymentmethod.toLowerCase())==='cash';});const cardSales=todaySales.filter(sale=>{var _sale$paymentmethod2;return((_sale$paymentmethod2=sale.paymentmethod)===null||_sale$paymentmethod2===void 0?void 0:_sale$paymentmethod2.toLowerCase())==='card';});const cashTotal=cashSales.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0);const cardTotal=cardSales.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0);setTodayCashStats({count:cashSales.length,amount:cashTotal});setTodayCardStats({count:cardSales.length,amount:cardTotal});setTodayRevenue(cashTotal+cardTotal);// Get yesterday's sales\nconst yesterdayStart=new Date();yesterdayStart.setDate(yesterdayStart.getDate()-1);yesterdayStart.setHours(0,0,0,0);const yesterdayEnd=new Date(todayStart);const yesterdayResponse=await API.get('/api/sales',{params:{'filters[store][id][$eq]':storeId,'filters[Time][$gte]':yesterdayStart.toISOString(),'filters[Time][$lt]':yesterdayEnd.toISOString(),'populate':['*','product']}});const yesterdayTotal=((_yesterdayResponse$da=yesterdayResponse.data)===null||_yesterdayResponse$da===void 0?void 0:(_yesterdayResponse$da2=_yesterdayResponse$da.data)===null||_yesterdayResponse$da2===void 0?void 0:_yesterdayResponse$da2.reduce((sum,sale)=>sum+(parseFloat(sale.Price)||0),0))||0;setYesterdayRevenue(yesterdayTotal);console.log('Fetching sales for store:',storeId);const response=await API.get('/api/sales',{params:{'filters[store][id][$eq]':storeId,'populate':{'invoice':true,'product':true,'*':true},'sort':'createdAt:desc'}});const sortedSales=response.data.data.sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime());console.log('Sorted sales:',sortedSales);setSales(sortedSales);}catch(error){console.error('Error fetching sales:',error);}finally{setLoading(false);}};fetchSales();},[storeId,navigate]);const handleDownloadInvoice=async sale=>{// Find related sales either by orderGroupId or by time (within 1 second)\nlet relatedSales;if(sale.orderGroupId){// If orderGroupId exists, use it\nrelatedSales=sales.filter(s=>s.orderGroupId===sale.orderGroupId);}else{// Fallback to time-based grouping for older sales\nconst saleTime=new Date(sale.Time).getTime();relatedSales=sales.filter(s=>{const timeDiff=Math.abs(new Date(s.Time).getTime()-saleTime);return timeDiff<1000;});}console.log('Related sales:',relatedSales);if(relatedSales.length===0){console.error('No related sales found for sale:',sale);return;}const items=relatedSales.map(s=>{var _s$product;return{product:{Product:((_s$product=s.product)===null||_s$product===void 0?void 0:_s$product.Product)||'Producto no especificado'},price:s.Price,description:s.description||''};});console.log('Items for invoice:',items);const total=relatedSales.reduce((sum,s)=>sum+s.Price,0);await generateInvoice(items,total,sale,selectedVat);};// Add filtered sales logic\nconst filteredSales=sales.filter(sale=>{var _sale$product,_sale$Price;const searchLower=searchTerm.toLowerCase();return(((_sale$product=sale.product)===null||_sale$product===void 0?void 0:_sale$product.Product)||'').toLowerCase().includes(searchLower)||(sale.description||'').toLowerCase().includes(searchLower)||(sale.Time?new Date(sale.Time).toLocaleDateString('es-ES').includes(searchTerm):false)||(((_sale$Price=sale.Price)===null||_sale$Price===void 0?void 0:_sale$Price.toString())||'').includes(searchTerm);});if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{height:'100vh',display:'flex',alignItems:'center',justifyContent:'center',color:'hsl(215.4 16.3% 46.9%)',fontSize:'14px',fontWeight:'500',fontFamily:'system-ui'},children:\"Loading sales data...\"});}// --- Calculate a dynamic max-height for the table container ---\nconst tableContainerMaxHeight='calc(100vh - 200px)';return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'32px',maxWidth:'1800px',margin:'0 auto',backgroundColor:'hsl(0 0% 100%)',height:'100vh',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'32px',flexShrink:0},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'22px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',margin:0,fontFamily:'system-ui',letterSpacing:'-0.025em'},children:\"Sales History\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/pos'),onMouseEnter:e=>{e.currentTarget.style.backgroundColor='hsl(210 40% 98%)';e.currentTarget.style.borderColor='hsl(215.4 16.3% 46.9%)';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='white';e.currentTarget.style.borderColor='hsl(240 5.9% 90%)';},style:{padding:'10px 16px',backgroundColor:'white',color:'hsl(222.2 47.4% 11.2%)',border:'1px solid hsl(240 5.9% 90%)',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'500',transition:'all 0.15s ease',display:'flex',alignItems:'center',gap:'8px',fontFamily:'system-ui'},children:[/*#__PURE__*/_jsx(\"svg\",{width:\"15\",height:\"15\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 12H5M12 19l-7-7 7-7\"})}),\"Back to POS\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'minmax(0, 1fr) 400px',gap:'32px',height:'calc(100vh - 100px)',minWidth:'1024px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'24px',display:'flex',alignItems:'center',gap:'12px',padding:'16px',backgroundColor:'white',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)'},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",style:{color:'hsl(215.4 16.3% 46.9%)'},children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"11\",cy:\"11\",r:\"8\"}),/*#__PURE__*/_jsx(\"path\",{d:\"m21 21-4.3-4.3\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search by product, description, date, or price...\",style:{flex:1,border:'none',outline:'none',fontSize:'14px',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui','::placeholder':{color:'hsl(215.4 16.3% 46.9%)'}}})]}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'white',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)',overflowY:'auto',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)',flexGrow:1,maxHeight:tableContainerMaxHeight,position:'relative'},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',tableLayout:'fixed'},children:[/*#__PURE__*/_jsxs(\"colgroup\",{children:[/*#__PURE__*/_jsx(\"col\",{style:{width:'10%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'8%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'15%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'20%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'10%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'12%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'10%'}}),/*#__PURE__*/_jsx(\"col\",{style:{width:'15%'}})]}),/*#__PURE__*/_jsx(\"thead\",{style:{position:'sticky',top:0,zIndex:1},children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'white',borderBottom:'1.5px solid hsl(240 5.9% 90%)'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px 20px',textAlign:'left',fontSize:'13px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui'},children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Payment\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Amount Paid\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{style:{...headerStyle},children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredSales&&filteredSales.length>0?filteredSales.map(sale=>{var _sale$product2,_sale$Price2;return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:'1px solid hsl(240 5.9% 90%)',transition:'background-color 0.15s ease'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='hsl(210 40% 98%)';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='white';},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px 20px',fontSize:'13px',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui'},children:sale.Time?new Date(sale.Time).toLocaleDateString('es-ES'):'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:sale.Time?new Date(sale.Time).toLocaleTimeString('es-ES'):'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:((_sale$product2=sale.product)===null||_sale$product2===void 0?void 0:_sale$product2.Product)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle},children:sale.description||'No description'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle,textTransform:'capitalize'},children:sale.paymentmethod||'N/A'}),/*#__PURE__*/_jsx(\"td\",{style:{...cellStyle,fontWeight:'500'},children:typeof sale.paymentamount==='number'?`€${sale.paymentamount.toFixed(2)}`:'N/A'}),/*#__PURE__*/_jsxs(\"td\",{style:{...cellStyle,fontWeight:'500'},children:[\"\\u20AC\",((_sale$Price2=sale.Price)===null||_sale$Price2===void 0?void 0:_sale$Price2.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedVat,onChange:e=>setSelectedVat(Number(e.target.value)),style:{padding:'6px 10px',borderRadius:'6px',border:'1px solid hsl(240 5.9% 90%)',fontSize:'13px',color:'hsl(222.2 47.4% 11.2%)',backgroundColor:'white',cursor:'pointer',fontFamily:'system-ui'},children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"IVA: 0%\"}),/*#__PURE__*/_jsx(\"option\",{value:10,children:\"IVA: 10%\"}),/*#__PURE__*/_jsx(\"option\",{value:21,children:\"IVA: 21%\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadInvoice(sale),onMouseEnter:e=>{e.currentTarget.style.backgroundColor='hsl(221.2 83.2% 53.3%)';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='hsl(222.2 47.4% 11.2%)';},style:{padding:'6px 12px',backgroundColor:'hsl(222.2 47.4% 11.2%)',color:'white',border:'none',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:'500',transition:'all 0.15s ease',fontFamily:'system-ui'},children:\"Download Invoice\"})]})})]},sale.id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"8\",style:{textAlign:'center',padding:'24px',color:'hsl(215.4 16.3% 46.9%)',fontSize:'13px',fontFamily:'system-ui'},children:\"No sales records found\"})})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',border:'1px solid hsl(240 5.9% 90%)',padding:'32px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'500',color:'hsl(215.4 16.3% 46.9%)',marginBottom:'16px',fontFamily:'system-ui'},children:\"Today's Revenue\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'48px',fontWeight:'600',color:todayRevenue>=500?'hsl(142.1 76.2% 36.3%)':'hsl(24.6 95% 53.1%)',fontFamily:'system-ui',marginBottom:'24px'},children:[\"\\u20AC\",todayRevenue.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,backgroundColor:'hsl(210 40% 98%)',padding:'16px',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',fontWeight:'500',color:'hsl(215.4 16.3% 46.9%)',marginBottom:'8px',fontFamily:'system-ui'},children:\"Cash Sales\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui',marginBottom:'4px'},children:[\"\\u20AC\",todayCashStats.amount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'13px',color:'hsl(215.4 16.3% 46.9%)',fontFamily:'system-ui'},children:[todayCashStats.count,\" sales\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,backgroundColor:'hsl(210 40% 98%)',padding:'16px',borderRadius:'8px',border:'1px solid hsl(240 5.9% 90%)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',fontWeight:'500',color:'hsl(215.4 16.3% 46.9%)',marginBottom:'8px',fontFamily:'system-ui'},children:\"Card Sales\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui',marginBottom:'4px'},children:[\"\\u20AC\",todayCardStats.amount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'13px',color:'hsl(215.4 16.3% 46.9%)',fontFamily:'system-ui'},children:[todayCardStats.count,\" sales\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'12px',border:'1px solid hsl(240 5.9% 90%)',padding:'32px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'500',color:'hsl(215.4 16.3% 46.9%)',marginBottom:'16px',fontFamily:'system-ui'},children:\"Yesterday's Revenue\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'48px',fontWeight:'600',color:yesterdayRevenue>=500?'hsl(142.1 76.2% 36.3%)':'hsl(24.6 95% 53.1%)',fontFamily:'system-ui'},children:[\"\\u20AC\",yesterdayRevenue.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1}}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'24px'},children:/*#__PURE__*/_jsx(\"img\",{src:todayRevenue>=3000?'/3k.gif':todayRevenue>=2500?'/peter.gif':todayRevenue>=2000?'/vegeta.gif':todayRevenue>=1500?'/15.gif':todayRevenue>=1000?'/mayweather.jpg':todayRevenue>=500?'/messi.png':'/mbappe.jpg',alt:todayRevenue>=3000?\"3K\":todayRevenue>=2500?\"Peter\":todayRevenue>=2000?\"Vegeta\":todayRevenue>=1500?\"15\":todayRevenue>=1000?\"Mayweather\":todayRevenue>=500?\"Messi\":\"Mbappe\",style:{width:'200px',height:'200px',objectFit:'cover',borderRadius:'8px',boxShadow:'0 2px 8px rgba(0, 0, 0, 0.1)'}})})]})]})]});}const headerStyle={padding:'12px 20px',textAlign:'left',fontSize:'13px',fontWeight:'600',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui'};const cellStyle={padding:'12px 20px',fontSize:'13px',color:'hsl(222.2 47.4% 11.2%)',fontFamily:'system-ui'};export default SalesDashboard;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","API","generateInvoice","jsx","_jsx","jsxs","_jsxs","SalesDashboard","sales","setSales","loading","setLoading","selectedVat","setSelectedVat","searchTerm","setSearchTerm","todayRevenue","setTodayRevenue","yesterdayRevenue","setYesterdayRevenue","todayCashStats","setTodayCashStats","count","amount","todayCardStats","setTodayCardStats","navigate","storeId","localStorage","getItem","token","fetchSales","_todayResponse$data","_yesterdayResponse$da","_yesterdayResponse$da2","todayStart","Date","setHours","todayResponse","get","params","toISOString","todaySales","data","cashSales","filter","sale","_sale$paymentmethod","paymentmethod","toLowerCase","cardSales","_sale$paymentmethod2","cashTotal","reduce","sum","parseFloat","Price","cardTotal","length","yesterdayStart","setDate","getDate","yesterdayEnd","yesterdayResponse","yesterdayTotal","console","log","response","sortedSales","sort","a","b","createdAt","getTime","error","handleDownloadInvoice","relatedSales","orderGroupId","s","saleTime","Time","timeDiff","Math","abs","items","map","_s$product","product","Product","price","description","total","filteredSales","_sale$product","_sale$Price","searchLower","includes","toLocaleDateString","toString","style","height","display","alignItems","justifyContent","color","fontSize","fontWeight","fontFamily","children","tableContainerMaxHeight","padding","maxWidth","margin","backgroundColor","flexDirection","marginBottom","flexShrink","letterSpacing","onClick","onMouseEnter","e","currentTarget","borderColor","onMouseLeave","border","borderRadius","cursor","transition","gap","width","viewBox","fill","stroke","strokeWidth","d","gridTemplateColumns","minWidth","boxShadow","cx","cy","r","type","value","onChange","target","placeholder","flex","outline","overflowY","flexGrow","maxHeight","position","borderCollapse","tableLayout","top","zIndex","borderBottom","textAlign","headerStyle","_sale$product2","_sale$Price2","cellStyle","toLocaleTimeString","textTransform","paymentamount","toFixed","Number","id","colSpan","src","alt","objectFit"],"sources":["/Users/oan/Desktop/POS/pos-frontend/src/components/SalesDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\nimport { generateInvoice } from '../utils/invoice';\n\nfunction SalesDashboard() {\n  const [sales, setSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedVat, setSelectedVat] = useState(0);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [todayRevenue, setTodayRevenue] = useState(0);\n  const [yesterdayRevenue, setYesterdayRevenue] = useState(0);\n  const [todayCashStats, setTodayCashStats] = useState({ count: 0, amount: 0 });\n  const [todayCardStats, setTodayCardStats] = useState({ count: 0, amount: 0 });\n  const navigate = useNavigate();\n  const storeId = localStorage.getItem('storeId');\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwtToken');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    const fetchSales = async () => {\n      try {\n        // Get today's sales\n        const todayStart = new Date();\n        todayStart.setHours(0, 0, 0, 0);\n        \n        const todayResponse = await API.get('/api/sales', {\n          params: {\n            'filters[store][id][$eq]': storeId,\n            'filters[Time][$gte]': todayStart.toISOString(),\n            'populate': ['*', 'product'],\n          }\n        });\n        \n        const todaySales = todayResponse.data?.data || [];\n        \n        // Calculate payment method stats\n        const cashSales = todaySales.filter(sale => \n          sale.paymentmethod?.toLowerCase() === 'cash'\n        );\n        const cardSales = todaySales.filter(sale => \n          sale.paymentmethod?.toLowerCase() === 'card'\n        );\n        \n        const cashTotal = cashSales.reduce((sum, sale) => \n          sum + (parseFloat(sale.Price) || 0), 0\n        );\n        \n        const cardTotal = cardSales.reduce((sum, sale) => \n          sum + (parseFloat(sale.Price) || 0), 0\n        );\n        \n        setTodayCashStats({\n          count: cashSales.length,\n          amount: cashTotal\n        });\n        \n        setTodayCardStats({\n          count: cardSales.length,\n          amount: cardTotal\n        });\n        \n        setTodayRevenue(cashTotal + cardTotal);\n\n        // Get yesterday's sales\n        const yesterdayStart = new Date();\n        yesterdayStart.setDate(yesterdayStart.getDate() - 1);\n        yesterdayStart.setHours(0, 0, 0, 0);\n        const yesterdayEnd = new Date(todayStart);\n\n        const yesterdayResponse = await API.get('/api/sales', {\n          params: {\n            'filters[store][id][$eq]': storeId,\n            'filters[Time][$gte]': yesterdayStart.toISOString(),\n            'filters[Time][$lt]': yesterdayEnd.toISOString(),\n            'populate': ['*', 'product'],\n          }\n        });\n        \n        const yesterdayTotal = yesterdayResponse.data?.data?.reduce((sum, sale) => \n          sum + (parseFloat(sale.Price) || 0), 0\n        ) || 0;\n        setYesterdayRevenue(yesterdayTotal);\n\n        console.log('Fetching sales for store:', storeId);\n        const response = await API.get('/api/sales', {\n          params: {\n            'filters[store][id][$eq]': storeId,\n            'populate': {\n              'invoice': true,\n              'product': true,\n              '*': true\n            },\n            'sort': 'createdAt:desc'\n          }\n        });\n        \n        const sortedSales = response.data.data.sort((a, b) => \n          new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n        );\n        \n        console.log('Sorted sales:', sortedSales);\n        setSales(sortedSales);\n      } catch (error) {\n        console.error('Error fetching sales:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSales();\n  }, [storeId, navigate]);\n\n  const handleDownloadInvoice = async (sale) => {\n    // Find related sales either by orderGroupId or by time (within 1 second)\n    let relatedSales;\n    \n    if (sale.orderGroupId) {\n      // If orderGroupId exists, use it\n      relatedSales = sales.filter(s => s.orderGroupId === sale.orderGroupId);\n    } else {\n      // Fallback to time-based grouping for older sales\n      const saleTime = new Date(sale.Time).getTime();\n      relatedSales = sales.filter(s => {\n        const timeDiff = Math.abs(new Date(s.Time).getTime() - saleTime);\n        return timeDiff < 1000;\n      });\n    }\n    \n    console.log('Related sales:', relatedSales);\n    \n    if (relatedSales.length === 0) {\n      console.error('No related sales found for sale:', sale);\n      return;\n    }\n\n    const items = relatedSales.map(s => ({\n      product: { \n        Product: s.product?.Product || 'Producto no especificado'\n      },\n      price: s.Price,\n      description: s.description || ''\n    }));\n    \n    console.log('Items for invoice:', items);\n    \n    const total = relatedSales.reduce((sum, s) => sum + s.Price, 0);\n    \n    await generateInvoice(items, total, sale, selectedVat);\n  };\n\n  // Add filtered sales logic\n  const filteredSales = sales.filter(sale => {\n    const searchLower = searchTerm.toLowerCase();\n    return (\n      (sale.product?.Product || '').toLowerCase().includes(searchLower) ||\n      (sale.description || '').toLowerCase().includes(searchLower) ||\n      (sale.Time ? new Date(sale.Time).toLocaleDateString('es-ES').includes(searchTerm) : false) ||\n      (sale.Price?.toString() || '').includes(searchTerm)\n    );\n  });\n\n  if (loading) {\n    return (\n      <div style={{\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: 'hsl(215.4 16.3% 46.9%)',\n        fontSize: '14px',\n        fontWeight: '500',\n        fontFamily: 'system-ui'\n      }}>\n        Loading sales data...\n      </div>\n    );\n  }\n\n  // --- Calculate a dynamic max-height for the table container ---\n  const tableContainerMaxHeight = 'calc(100vh - 200px)'; \n\n  return (\n    <div style={{ \n      padding: '32px',\n      maxWidth: '1800px',\n      margin: '0 auto',\n      backgroundColor: 'hsl(0 0% 100%)',\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center',\n        marginBottom: '32px',\n        flexShrink: 0\n      }}>\n        <h1 style={{\n          fontSize: '22px',\n          fontWeight: '600',\n          color: 'hsl(222.2 47.4% 11.2%)',\n          margin: 0,\n          fontFamily: 'system-ui',\n          letterSpacing: '-0.025em'\n        }}>\n          Sales History\n        </h1>\n\n        <button\n          onClick={() => navigate('/pos')}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n            e.currentTarget.style.borderColor = 'hsl(215.4 16.3% 46.9%)';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.backgroundColor = 'white';\n            e.currentTarget.style.borderColor = 'hsl(240 5.9% 90%)';\n          }}\n          style={{\n            padding: '10px 16px',\n            backgroundColor: 'white',\n            color: 'hsl(222.2 47.4% 11.2%)',\n            border: '1px solid hsl(240 5.9% 90%)',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            fontSize: '14px',\n            fontWeight: '500',\n            transition: 'all 0.15s ease',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            fontFamily: 'system-ui'\n          }}\n        >\n          <svg width=\"15\" height=\"15\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <path d=\"M19 12H5M12 19l-7-7 7-7\"/>\n          </svg>\n          Back to POS\n        </button>\n      </div>\n\n      {/* Main Content Grid */}\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'minmax(0, 1fr) 400px',\n        gap: '32px',\n        height: 'calc(100vh - 100px)',\n        minWidth: '1024px'\n      }}>\n        {/* Left Side - Sales Table */}\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '24px'\n        }}>\n          {/* Search Bar */}\n          <div style={{\n            marginBottom: '24px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px',\n            padding: '16px',\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            border: '1px solid hsl(240 5.9% 90%)',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n          }}>\n            <svg \n              width=\"16\" \n              height=\"16\" \n              viewBox=\"0 0 24 24\" \n              fill=\"none\" \n              stroke=\"currentColor\" \n              strokeWidth=\"2\"\n              style={{ color: 'hsl(215.4 16.3% 46.9%)' }}\n            >\n              <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n              <path d=\"m21 21-4.3-4.3\"/>\n            </svg>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Search by product, description, date, or price...\"\n              style={{\n                flex: 1,\n                border: 'none',\n                outline: 'none',\n                fontSize: '14px',\n                color: 'hsl(222.2 47.4% 11.2%)',\n                fontFamily: 'system-ui',\n                '::placeholder': {\n                  color: 'hsl(215.4 16.3% 46.9%)'\n                }\n              }}\n            />\n          </div>\n\n          <div style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n            border: '1px solid hsl(240 5.9% 90%)',\n            overflowY: 'auto',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n            flexGrow: 1,\n            maxHeight: tableContainerMaxHeight,\n            position: 'relative'\n          }}>\n            <table style={{ \n              width: '100%', \n              borderCollapse: 'collapse',\n              tableLayout: 'fixed'\n            }}>\n              <colgroup>\n                <col style={{ width: '10%' }} />\n                <col style={{ width: '8%' }} />\n                <col style={{ width: '15%' }} />\n                <col style={{ width: '20%' }} />\n                <col style={{ width: '10%' }} />\n                <col style={{ width: '12%' }} />\n                <col style={{ width: '10%' }} />\n                <col style={{ width: '15%' }} />\n              </colgroup>\n              <thead style={{\n                position: 'sticky',\n                top: 0,\n                zIndex: 1,\n              }}>\n                <tr style={{\n                  backgroundColor: 'white', \n                  borderBottom: '1.5px solid hsl(240 5.9% 90%)'\n                }}>\n                  <th style={{ \n                    padding: '12px 20px',\n                    textAlign: 'left',\n                    fontSize: '13px',\n                    fontWeight: '600',\n                    color: 'hsl(222.2 47.4% 11.2%)',\n                    fontFamily: 'system-ui'\n                  }}>Date</th>\n                  <th style={{ ...headerStyle }}>Time</th>\n                  <th style={{ ...headerStyle }}>Product</th>\n                  <th style={{ ...headerStyle }}>Description</th>\n                  <th style={{ ...headerStyle }}>Payment</th>\n                  <th style={{ ...headerStyle }}>Amount Paid</th>\n                  <th style={{ ...headerStyle }}>Price</th>\n                  <th style={{ ...headerStyle }}>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredSales && filteredSales.length > 0 ? (\n                  filteredSales.map((sale) => (\n                    <tr \n                      key={sale.id} \n                      style={{ \n                        borderBottom: '1px solid hsl(240 5.9% 90%)',\n                        transition: 'background-color 0.15s ease'\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.backgroundColor = 'hsl(210 40% 98%)';\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.backgroundColor = 'white';\n                      }}\n                    >\n                      <td style={{ \n                        padding: '12px 20px',\n                        fontSize: '13px',\n                        color: 'hsl(222.2 47.4% 11.2%)',\n                        fontFamily: 'system-ui'\n                      }}>\n                        {sale.Time ? new Date(sale.Time).toLocaleDateString('es-ES') : 'N/A'}\n                      </td>\n                      <td style={{ ...cellStyle }}>\n                        {sale.Time ? new Date(sale.Time).toLocaleTimeString('es-ES') : 'N/A'}\n                      </td>\n                      <td style={{ ...cellStyle }}>\n                        {sale.product?.Product || 'N/A'}\n                      </td>\n                      <td style={{ ...cellStyle }}>\n                        {sale.description || 'No description'}\n                      </td>\n                      <td style={{ ...cellStyle, textTransform: 'capitalize' }}>\n                        {sale.paymentmethod || 'N/A'}\n                      </td>\n                      <td style={{ ...cellStyle, fontWeight: '500' }}>\n                        {typeof sale.paymentamount === 'number' ? `€${sale.paymentamount.toFixed(2)}` : 'N/A'}\n                      </td>\n                      <td style={{ ...cellStyle, fontWeight: '500' }}>\n                        €{sale.Price?.toFixed(2) || '0.00'}\n                      </td>\n                      <td style={{ padding: '8px 20px' }}>\n                        <div style={{ \n                          display: 'flex', \n                          gap: '8px', \n                          alignItems: 'center'\n                        }}>\n                          <select\n                            value={selectedVat}\n                            onChange={(e) => setSelectedVat(Number(e.target.value))}\n                            style={{\n                              padding: '6px 10px',\n                              borderRadius: '6px',\n                              border: '1px solid hsl(240 5.9% 90%)',\n                              fontSize: '13px',\n                              color: 'hsl(222.2 47.4% 11.2%)',\n                              backgroundColor: 'white',\n                              cursor: 'pointer',\n                              fontFamily: 'system-ui'\n                            }}\n                          >\n                            <option value={0}>IVA: 0%</option>\n                            <option value={10}>IVA: 10%</option>\n                            <option value={21}>IVA: 21%</option>\n                          </select>\n                          <button\n                            onClick={() => handleDownloadInvoice(sale)}\n                            onMouseEnter={(e) => {\n                              e.currentTarget.style.backgroundColor = 'hsl(221.2 83.2% 53.3%)';\n                            }}\n                            onMouseLeave={(e) => {\n                              e.currentTarget.style.backgroundColor = 'hsl(222.2 47.4% 11.2%)';\n                            }}\n                            style={{\n                              padding: '6px 12px',\n                              backgroundColor: 'hsl(222.2 47.4% 11.2%)',\n                              color: 'white',\n                              border: 'none',\n                              borderRadius: '6px',\n                              cursor: 'pointer',\n                              fontSize: '13px',\n                              fontWeight: '500',\n                              transition: 'all 0.15s ease',\n                              fontFamily: 'system-ui'\n                            }}\n                          >\n                            Download Invoice\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td \n                      colSpan=\"8\"\n                      style={{ \n                        textAlign: 'center', \n                        padding: '24px',\n                        color: 'hsl(215.4 16.3% 46.9%)',\n                        fontSize: '13px',\n                        fontFamily: 'system-ui'\n                      }}\n                    >\n                      No sales records found\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Right Side - Revenue Widgets */}\n        <div style={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '24px'\n        }}>\n          {/* Today's Revenue */}\n          <div style={{\n            backgroundColor: 'white',\n            borderRadius: '12px',\n            border: '1px solid hsl(240 5.9% 90%)',\n            padding: '32px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n          }}>\n            <div style={{\n              fontSize: '16px',\n              fontWeight: '500',\n              color: 'hsl(215.4 16.3% 46.9%)',\n              marginBottom: '16px',\n              fontFamily: 'system-ui'\n            }}>\n              Today's Revenue\n            </div>\n            <div style={{\n              fontSize: '48px',\n              fontWeight: '600',\n              color: todayRevenue >= 500 ? 'hsl(142.1 76.2% 36.3%)' : 'hsl(24.6 95% 53.1%)',\n              fontFamily: 'system-ui',\n              marginBottom: '24px'\n            }}>\n              €{todayRevenue.toFixed(2)}\n            </div>\n\n            {/* Payment Method Stats */}\n            <div style={{\n              display: 'flex',\n              gap: '16px'\n            }}>\n              {/* Cash Stats */}\n              <div style={{\n                flex: 1,\n                backgroundColor: 'hsl(210 40% 98%)',\n                padding: '16px',\n                borderRadius: '8px',\n                border: '1px solid hsl(240 5.9% 90%)'\n              }}>\n                <div style={{\n                  fontSize: '13px',\n                  fontWeight: '500',\n                  color: 'hsl(215.4 16.3% 46.9%)',\n                  marginBottom: '8px',\n                  fontFamily: 'system-ui'\n                }}>\n                  Cash Sales\n                </div>\n                <div style={{\n                  fontSize: '24px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui',\n                  marginBottom: '4px'\n                }}>\n                  €{todayCashStats.amount.toFixed(2)}\n                </div>\n                <div style={{\n                  fontSize: '13px',\n                  color: 'hsl(215.4 16.3% 46.9%)',\n                  fontFamily: 'system-ui'\n                }}>\n                  {todayCashStats.count} sales\n                </div>\n              </div>\n\n              {/* Card Stats */}\n              <div style={{\n                flex: 1,\n                backgroundColor: 'hsl(210 40% 98%)',\n                padding: '16px',\n                borderRadius: '8px',\n                border: '1px solid hsl(240 5.9% 90%)'\n              }}>\n                <div style={{\n                  fontSize: '13px',\n                  fontWeight: '500',\n                  color: 'hsl(215.4 16.3% 46.9%)',\n                  marginBottom: '8px',\n                  fontFamily: 'system-ui'\n                }}>\n                  Card Sales\n                </div>\n                <div style={{\n                  fontSize: '24px',\n                  fontWeight: '600',\n                  color: 'hsl(222.2 47.4% 11.2%)',\n                  fontFamily: 'system-ui',\n                  marginBottom: '4px'\n                }}>\n                  €{todayCardStats.amount.toFixed(2)}\n                </div>\n                <div style={{\n                  fontSize: '13px',\n                  color: 'hsl(215.4 16.3% 46.9%)',\n                  fontFamily: 'system-ui'\n                }}>\n                  {todayCardStats.count} sales\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Yesterday's Revenue */}\n          <div style={{\n            backgroundColor: 'white',\n            borderRadius: '12px',\n            border: '1px solid hsl(240 5.9% 90%)',\n            padding: '32px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n          }}>\n            <div style={{\n              fontSize: '16px',\n              fontWeight: '500',\n              color: 'hsl(215.4 16.3% 46.9%)',\n              marginBottom: '16px',\n              fontFamily: 'system-ui'\n            }}>\n              Yesterday's Revenue\n            </div>\n            <div style={{\n              fontSize: '48px',\n              fontWeight: '600',\n              color: yesterdayRevenue >= 500 ? 'hsl(142.1 76.2% 36.3%)' : 'hsl(24.6 95% 53.1%)',\n              fontFamily: 'system-ui'\n            }}>\n              €{yesterdayRevenue.toFixed(2)}\n            </div>\n          </div>\n\n          {/* Spacer to push image to bottom */}\n          <div style={{ flex: 1 }} />\n\n          {/* Conditional Image */}\n          <div style={{\n            display: 'flex',\n            justifyContent: 'center',\n            marginBottom: '24px'\n          }}>\n            <img \n              src={\n                todayRevenue >= 3000 ? '/3k.gif' :\n                todayRevenue >= 2500 ? '/peter.gif' :\n                todayRevenue >= 2000 ? '/vegeta.gif' :\n                todayRevenue >= 1500 ? '/15.gif' :\n                todayRevenue >= 1000 ? '/mayweather.jpg' :\n                todayRevenue >= 500 ? '/messi.png' : \n                '/mbappe.jpg'\n              }\n              alt={\n                todayRevenue >= 3000 ? \"3K\" :\n                todayRevenue >= 2500 ? \"Peter\" :\n                todayRevenue >= 2000 ? \"Vegeta\" :\n                todayRevenue >= 1500 ? \"15\" :\n                todayRevenue >= 1000 ? \"Mayweather\" :\n                todayRevenue >= 500 ? \"Messi\" : \n                \"Mbappe\"\n              }\n              style={{\n                width: '200px',\n                height: '200px',\n                objectFit: 'cover',\n                borderRadius: '8px',\n                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst headerStyle = {\n  padding: '12px 20px',\n  textAlign: 'left',\n  fontSize: '13px',\n  fontWeight: '600',\n  color: 'hsl(222.2 47.4% 11.2%)',\n  fontFamily: 'system-ui'\n};\n\nconst cellStyle = {\n  padding: '12px 20px',\n  fontSize: '13px',\n  color: 'hsl(222.2 47.4% 11.2%)',\n  fontFamily: 'system-ui'\n};\n\nexport default SalesDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}