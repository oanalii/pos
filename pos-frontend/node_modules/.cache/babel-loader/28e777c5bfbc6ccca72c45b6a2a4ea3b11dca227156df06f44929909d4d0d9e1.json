{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{Box,Card,CardContent,TextField,Button,Typography,Alert,CircularProgress}from'@mui/material';import{API_URL}from'../../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminLogin(){const[identifier,setIdentifier]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();setLoading(true);setError('');try{const loginResponse=await axios.post(`${API_URL}/api/auth/local`,{identifier,password});// Store both tokens\nlocalStorage.setItem('adminToken',loginResponse.data.jwt);localStorage.setItem('jwtToken',loginResponse.data.jwt);navigate('/admin/sales');}catch(error){console.error('Full error:',error);setError('Admin access only. Please check your credentials.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Box,{sx:{height:'100vh',display:'flex',alignItems:'center',justifyContent:'center',bgcolor:'#1a1a1a'// Dark background for admin\n},children:/*#__PURE__*/_jsx(Card,{sx:{maxWidth:400,width:'90%',boxShadow:3},children:/*#__PURE__*/_jsxs(CardContent,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"h1\",gutterBottom:true,align:\"center\",color:\"error\",children:\"Admin Access Only\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Username\",variant:\"outlined\",margin:\"normal\",value:identifier,onChange:e=>setIdentifier(e.target.value),disabled:loading}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:\"password\",variant:\"outlined\",margin:\"normal\",value:password,onChange:e=>setPassword(e.target.value),disabled:loading}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mt:2},children:error}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"error\",size:\"large\",sx:{mt:3},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Admin Login'})]})]})})});}export default AdminLogin;","map":{"version":3,"names":["React","useState","useNavigate","axios","Box","Card","CardContent","TextField","Button","Typography","Alert","CircularProgress","API_URL","jsx","_jsx","jsxs","_jsxs","AdminLogin","identifier","setIdentifier","password","setPassword","error","setError","loading","setLoading","navigate","handleLogin","e","preventDefault","loginResponse","post","localStorage","setItem","data","jwt","console","sx","height","display","alignItems","justifyContent","bgcolor","children","maxWidth","width","boxShadow","p","variant","component","gutterBottom","align","color","onSubmit","fullWidth","label","margin","value","onChange","target","disabled","type","severity","mt","size"],"sources":["/Users/oan/Desktop/POS/pos-frontend/src/components/admin/AdminLogin.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport {\n  Box,\n  Card,\n  CardContent,\n  TextField,\n  Button,\n  Typography,\n  Alert,\n  CircularProgress\n} from '@mui/material';\nimport { API_URL } from '../../config';\n\nfunction AdminLogin() {\n  const [identifier, setIdentifier] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const loginResponse = await axios.post(`${API_URL}/api/auth/local`, {\n        identifier,\n        password,\n      });\n\n      // Store both tokens\n      localStorage.setItem('adminToken', loginResponse.data.jwt);\n      localStorage.setItem('jwtToken', loginResponse.data.jwt);\n      navigate('/admin/sales');\n\n    } catch (error) {\n      console.error('Full error:', error);\n      setError('Admin access only. Please check your credentials.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        bgcolor: '#1a1a1a' // Dark background for admin\n      }}\n    >\n      <Card sx={{ maxWidth: 400, width: '90%', boxShadow: 3 }}>\n        <CardContent sx={{ p: 4 }}>\n          <Typography variant=\"h5\" component=\"h1\" gutterBottom align=\"center\" color=\"error\">\n            Admin Access Only\n          </Typography>\n          \n          <form onSubmit={handleLogin}>\n            <TextField\n              fullWidth\n              label=\"Username\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              value={identifier}\n              onChange={(e) => setIdentifier(e.target.value)}\n              disabled={loading}\n            />\n            \n            <TextField\n              fullWidth\n              label=\"Password\"\n              type=\"password\"\n              variant=\"outlined\"\n              margin=\"normal\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              disabled={loading}\n            />\n            \n            {error && (\n              <Alert severity=\"error\" sx={{ mt: 2 }}>\n                {error}\n              </Alert>\n            )}\n            \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"error\"\n              size=\"large\"\n              sx={{ mt: 3 }}\n              disabled={loading}\n            >\n              {loading ? <CircularProgress size={24} /> : 'Admin Login'}\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </Box>\n  );\n}\n\nexport default AdminLogin; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OACEC,GAAG,CACHC,IAAI,CACJC,WAAW,CACXC,SAAS,CACTC,MAAM,CACNC,UAAU,CACVC,KAAK,CACLC,gBAAgB,KACX,eAAe,CACtB,OAASC,OAAO,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqB,KAAK,CAAEC,QAAQ,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAAyB,QAAQ,CAAGxB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAyB,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBJ,UAAU,CAAC,IAAI,CAAC,CAChBF,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAO,aAAa,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,IAAI,CAAC,GAAGnB,OAAO,iBAAiB,CAAE,CAClEM,UAAU,CACVE,QACF,CAAC,CAAC,CAEF;AACAY,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEH,aAAa,CAACI,IAAI,CAACC,GAAG,CAAC,CAC1DH,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEH,aAAa,CAACI,IAAI,CAACC,GAAG,CAAC,CACxDT,QAAQ,CAAC,cAAc,CAAC,CAE1B,CAAE,MAAOJ,KAAK,CAAE,CACdc,OAAO,CAACd,KAAK,CAAC,aAAa,CAAEA,KAAK,CAAC,CACnCC,QAAQ,CAAC,mDAAmD,CAAC,CAC/D,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEX,IAAA,CAACV,GAAG,EACFiC,EAAE,CAAE,CACFC,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,OAAO,CAAE,SAAU;AACrB,CAAE,CAAAC,QAAA,cAEF7B,IAAA,CAACT,IAAI,EAACgC,EAAE,CAAE,CAAEO,QAAQ,CAAE,GAAG,CAAEC,KAAK,CAAE,KAAK,CAAEC,SAAS,CAAE,CAAE,CAAE,CAAAH,QAAA,cACtD3B,KAAA,CAACV,WAAW,EAAC+B,EAAE,CAAE,CAAEU,CAAC,CAAE,CAAE,CAAE,CAAAJ,QAAA,eACxB7B,IAAA,CAACL,UAAU,EAACuC,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,YAAY,MAACC,KAAK,CAAC,QAAQ,CAACC,KAAK,CAAC,OAAO,CAAAT,QAAA,CAAC,mBAElF,CAAY,CAAC,cAEb3B,KAAA,SAAMqC,QAAQ,CAAE1B,WAAY,CAAAgB,QAAA,eAC1B7B,IAAA,CAACP,SAAS,EACR+C,SAAS,MACTC,KAAK,CAAC,UAAU,CAChBP,OAAO,CAAC,UAAU,CAClBQ,MAAM,CAAC,QAAQ,CACfC,KAAK,CAAEvC,UAAW,CAClBwC,QAAQ,CAAG9B,CAAC,EAAKT,aAAa,CAACS,CAAC,CAAC+B,MAAM,CAACF,KAAK,CAAE,CAC/CG,QAAQ,CAAEpC,OAAQ,CACnB,CAAC,cAEFV,IAAA,CAACP,SAAS,EACR+C,SAAS,MACTC,KAAK,CAAC,UAAU,CAChBM,IAAI,CAAC,UAAU,CACfb,OAAO,CAAC,UAAU,CAClBQ,MAAM,CAAC,QAAQ,CACfC,KAAK,CAAErC,QAAS,CAChBsC,QAAQ,CAAG9B,CAAC,EAAKP,WAAW,CAACO,CAAC,CAAC+B,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,CAAEpC,OAAQ,CACnB,CAAC,CAEDF,KAAK,eACJR,IAAA,CAACJ,KAAK,EAACoD,QAAQ,CAAC,OAAO,CAACzB,EAAE,CAAE,CAAE0B,EAAE,CAAE,CAAE,CAAE,CAAApB,QAAA,CACnCrB,KAAK,CACD,CACR,cAEDR,IAAA,CAACN,MAAM,EACLqD,IAAI,CAAC,QAAQ,CACbP,SAAS,MACTN,OAAO,CAAC,WAAW,CACnBI,KAAK,CAAC,OAAO,CACbY,IAAI,CAAC,OAAO,CACZ3B,EAAE,CAAE,CAAE0B,EAAE,CAAE,CAAE,CAAE,CACdH,QAAQ,CAAEpC,OAAQ,CAAAmB,QAAA,CAEjBnB,OAAO,cAAGV,IAAA,CAACH,gBAAgB,EAACqD,IAAI,CAAE,EAAG,CAAE,CAAC,CAAG,aAAa,CACnD,CAAC,EACL,CAAC,EACI,CAAC,CACV,CAAC,CACJ,CAAC,CAEV,CAEA,cAAe,CAAA/C,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}