{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useNavigate,useParams}from'react-router-dom';import API from'../../services/api';import{generateInvoice}from'../../utils/invoice';import Sidebar from'./Sidebar';import{Box,Typography,Select,MenuItem,Button,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Card,CardContent,Grid}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const STORE_IDS={gaudi:7,paralel:1,mallorca:5,consell:10,hospital:9};function AdminSales(){const[sales,setSales]=useState([]);const[loading,setLoading]=useState(true);const[timeFilter,setTimeFilter]=useState('all');const navigate=useNavigate();const{store}=useParams();const[salesData,setSalesData]=useState([]);const[productSummary,setProductSummary]=useState([]);const fetchSales=useCallback(async()=>{try{let url='/api/sales?populate=*';// Add store filter if we're not on the general page\nif(store&&STORE_IDS[store]){url+=`&filters[store][id][$eq]=${STORE_IDS[store]}`;}const response=await API.get(url);let filteredSales=response.data.data;// Apply time filter\nconst currentDate=new Date();// Create a base date\nfilteredSales=filteredSales.filter(sale=>{const saleDate=new Date(sale.Time);switch(timeFilter){case'day':const today=new Date(currentDate);today.setHours(0,0,0,0);return saleDate>=today;case'week':const weekAgo=new Date(currentDate);weekAgo.setDate(weekAgo.getDate()-7);return saleDate>=weekAgo;case'month':const monthAgo=new Date(currentDate);monthAgo.setMonth(monthAgo.getMonth()-1);return saleDate>=monthAgo;case'3months':const threeMonthsAgo=new Date(currentDate);threeMonthsAgo.setMonth(threeMonthsAgo.getMonth()-3);return saleDate>=threeMonthsAgo;case'12months':const yearAgo=new Date(currentDate);yearAgo.setFullYear(yearAgo.getFullYear()-1);return saleDate>=yearAgo;default:return true;}});// Sort by date (newest first)\nconst sortedSales=filteredSales.sort((a,b)=>new Date(b.Time).getTime()-new Date(a.Time).getTime());setSales(sortedSales);}catch(error){console.error('Error fetching sales:',error);}finally{setLoading(false);}},[store,timeFilter]);useEffect(()=>{fetchSales();},[store,timeFilter,fetchSales]);useEffect(()=>{const fetchData=async()=>{try{// Fetch all sales for this store\nconst response=await API.get(`/api/sales?filters[store]=${store}&populate=*`);const sales=response.data.data;setSalesData(sales);// Calculate product summary\nconst summary={};sales.forEach(sale=>{const productId=sale.attributes.product.data.id;if(!summary[productId]){summary[productId]={name:PRODUCT_NAMES[productId],count:0,totalRevenue:0};}summary[productId].count+=1;summary[productId].totalRevenue+=parseFloat(sale.attributes.Price);});setProductSummary(Object.entries(summary));setLoading(false);}catch(error){console.error('Error fetching sales data:',error);setLoading(false);}};fetchData();},[store]);const handleDownloadInvoice=sale=>{const items=[{product:{Product:sale.product.Product},price:sale.Price}];generateInvoice(items,sale.Price);};if(loading)return/*#__PURE__*/_jsx(Box,{sx:{ml:'240px',p:3},children:/*#__PURE__*/_jsx(Typography,{children:\"Loading sales data...\"})});return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1,ml:'280px',// Match sidebar width\nbackgroundColor:'#f5f5f5',// Moved bgcolor here\nminHeight:'100vh',p:2},children:/*#__PURE__*/_jsxs(Box,{sx:{backgroundColor:'#fff',borderRadius:1,p:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{mb:1,fontWeight:600,color:'#333'// Dark text for better contrast\n},children:store?`${store.charAt(0).toUpperCase()+store.slice(1)} Sales`:'All Stores Sales'}),/*#__PURE__*/_jsxs(Select,{value:timeFilter,onChange:e=>setTimeFilter(e.target.value),size:\"small\",sx:{minWidth:200},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"all\",children:\"All Time\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"day\",children:\"Today\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"week\",children:\"Last 7 Days\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"month\",children:\"Last 30 Days\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"3months\",children:\"Last 3 Months\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"12months\",children:\"Last 12 Months\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",onClick:()=>navigate('/admin'),children:\"Logout\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Store Sales Summary\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Units Sold\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Total Revenue\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Average Price\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:productSummary.map(_ref=>{let[productId,data]=_ref;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:data.name}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:data.count}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\"\\u20AC\",data.totalRevenue.toFixed(2)]}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[\"\\u20AC\",(data.totalRevenue/data.count).toFixed(2)]})]},productId);})})]})})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Store\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Date\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Time\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Product\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:sales&&sales.length>0?sales.map(sale=>{var _sale$store,_sale$product,_sale$Price;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:((_sale$store=sale.store)===null||_sale$store===void 0?void 0:_sale$store.Name)||'Unknown Store'}),/*#__PURE__*/_jsx(TableCell,{children:sale.Time?new Date(sale.Time).toLocaleDateString('es-ES'):'N/A'}),/*#__PURE__*/_jsx(TableCell,{children:sale.Time?new Date(sale.Time).toLocaleTimeString('es-ES'):'N/A'}),/*#__PURE__*/_jsx(TableCell,{children:((_sale$product=sale.product)===null||_sale$product===void 0?void 0:_sale$product.Product)||'N/A'}),/*#__PURE__*/_jsxs(TableCell,{children:[\"\\u20AC\",((_sale$Price=sale.Price)===null||_sale$Price===void 0?void 0:_sale$Price.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>handleDownloadInvoice(sale),size:\"small\",children:\"Download Invoice\"})})]},sale.id);}):/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:6,align:\"center\",children:\"No sales records found\"})})})]})})]})})]});}export default AdminSales;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useParams","API","generateInvoice","Sidebar","Box","Typography","Select","MenuItem","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Card","CardContent","Grid","jsx","_jsx","jsxs","_jsxs","STORE_IDS","gaudi","paralel","mallorca","consell","hospital","AdminSales","sales","setSales","loading","setLoading","timeFilter","setTimeFilter","navigate","store","salesData","setSalesData","productSummary","setProductSummary","fetchSales","url","response","get","filteredSales","data","currentDate","Date","filter","sale","saleDate","Time","today","setHours","weekAgo","setDate","getDate","monthAgo","setMonth","getMonth","threeMonthsAgo","yearAgo","setFullYear","getFullYear","sortedSales","sort","a","b","getTime","error","console","fetchData","summary","forEach","productId","attributes","product","id","name","PRODUCT_NAMES","count","totalRevenue","parseFloat","Price","Object","entries","handleDownloadInvoice","items","Product","price","sx","ml","p","children","display","flexGrow","backgroundColor","minHeight","borderRadius","justifyContent","alignItems","mb","variant","fontWeight","color","charAt","toUpperCase","slice","value","onChange","e","target","size","minWidth","onClick","gutterBottom","component","align","map","_ref","toFixed","length","_sale$store","_sale$product","_sale$Price","Name","toLocaleDateString","toLocaleTimeString","colSpan"],"sources":["/Users/oan/Desktop/POS/pos-frontend/src/components/admin/AdminSales.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport API from '../../services/api';\nimport { generateInvoice } from '../../utils/invoice';\nimport Sidebar from './Sidebar';\nimport {\n  Box,\n  Typography,\n  Select,\n  MenuItem,\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Card,\n  CardContent,\n  Grid\n} from '@mui/material';\n\nconst STORE_IDS = {\n  gaudi: 7,\n  paralel: 1,\n  mallorca: 5,\n  consell: 10,\n  hospital: 9\n};\n\nfunction AdminSales() {\n  const [sales, setSales] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [timeFilter, setTimeFilter] = useState('all');\n  const navigate = useNavigate();\n  const { store } = useParams();\n  const [salesData, setSalesData] = useState([]);\n  const [productSummary, setProductSummary] = useState([]);\n\n  const fetchSales = useCallback(async () => {\n    try {\n      let url = '/api/sales?populate=*';\n      \n      // Add store filter if we're not on the general page\n      if (store && STORE_IDS[store]) {\n        url += `&filters[store][id][$eq]=${STORE_IDS[store]}`;\n      }\n\n      const response = await API.get(url);\n      let filteredSales = response.data.data;\n\n      // Apply time filter\n      const currentDate = new Date(); // Create a base date\n      filteredSales = filteredSales.filter(sale => {\n        const saleDate = new Date(sale.Time);\n        \n        switch (timeFilter) {\n          case 'day':\n            const today = new Date(currentDate);\n            today.setHours(0, 0, 0, 0);\n            return saleDate >= today;\n            \n          case 'week':\n            const weekAgo = new Date(currentDate);\n            weekAgo.setDate(weekAgo.getDate() - 7);\n            return saleDate >= weekAgo;\n            \n          case 'month':\n            const monthAgo = new Date(currentDate);\n            monthAgo.setMonth(monthAgo.getMonth() - 1);\n            return saleDate >= monthAgo;\n            \n          case '3months':\n            const threeMonthsAgo = new Date(currentDate);\n            threeMonthsAgo.setMonth(threeMonthsAgo.getMonth() - 3);\n            return saleDate >= threeMonthsAgo;\n            \n          case '12months':\n            const yearAgo = new Date(currentDate);\n            yearAgo.setFullYear(yearAgo.getFullYear() - 1);\n            return saleDate >= yearAgo;\n            \n          default:\n            return true;\n        }\n      });\n\n      // Sort by date (newest first)\n      const sortedSales = filteredSales.sort((a, b) => \n        new Date(b.Time).getTime() - new Date(a.Time).getTime()\n      );\n      \n      setSales(sortedSales);\n    } catch (error) {\n      console.error('Error fetching sales:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [store, timeFilter]);\n\n  useEffect(() => {\n    fetchSales();\n  }, [store, timeFilter, fetchSales]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // Fetch all sales for this store\n        const response = await API.get(`/api/sales?filters[store]=${store}&populate=*`);\n        const sales = response.data.data;\n        setSalesData(sales);\n\n        // Calculate product summary\n        const summary = {};\n        sales.forEach(sale => {\n          const productId = sale.attributes.product.data.id;\n          if (!summary[productId]) {\n            summary[productId] = {\n              name: PRODUCT_NAMES[productId],\n              count: 0,\n              totalRevenue: 0\n            };\n          }\n          summary[productId].count += 1;\n          summary[productId].totalRevenue += parseFloat(sale.attributes.Price);\n        });\n\n        setProductSummary(Object.entries(summary));\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching sales data:', error);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [store]);\n\n  const handleDownloadInvoice = (sale) => {\n    const items = [{\n      product: { Product: sale.product.Product },\n      price: sale.Price\n    }];\n    generateInvoice(items, sale.Price);\n  };\n\n  if (loading) return (\n    <Box sx={{ ml: '240px', p: 3 }}>\n      <Typography>Loading sales data...</Typography>\n    </Box>\n  );\n\n  return (\n    <Box sx={{ display: 'flex' }}>\n      <Sidebar />\n      <Box sx={{ \n        flexGrow: 1, \n        ml: '280px',  // Match sidebar width\n        backgroundColor: '#f5f5f5',  // Moved bgcolor here\n        minHeight: '100vh',\n        p: 2,\n      }}>\n        <Box sx={{ \n          backgroundColor: '#fff',\n          borderRadius: 1,\n          p: 3,\n        }}>\n          <Box sx={{ \n            display: 'flex', \n            justifyContent: 'space-between', \n            alignItems: 'center',\n            mb: 3,\n          }}>\n            <Box>\n              <Typography variant=\"h4\" sx={{ \n                mb: 1,\n                fontWeight: 600,\n                color: '#333'  // Dark text for better contrast\n              }}>\n                {store ? `${store.charAt(0).toUpperCase() + store.slice(1)} Sales` : 'All Stores Sales'}\n              </Typography>\n              <Select\n                value={timeFilter}\n                onChange={(e) => setTimeFilter(e.target.value)}\n                size=\"small\"\n                sx={{ minWidth: 200 }}\n              >\n                <MenuItem value=\"all\">All Time</MenuItem>\n                <MenuItem value=\"day\">Today</MenuItem>\n                <MenuItem value=\"week\">Last 7 Days</MenuItem>\n                <MenuItem value=\"month\">Last 30 Days</MenuItem>\n                <MenuItem value=\"3months\">Last 3 Months</MenuItem>\n                <MenuItem value=\"12months\">Last 12 Months</MenuItem>\n              </Select>\n            </Box>\n            <Button \n              variant=\"contained\" \n              color=\"error\"\n              onClick={() => navigate('/admin')}\n            >\n              Logout\n            </Button>\n          </Box>\n\n          <Box sx={{ mb: 4 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Store Sales Summary\n            </Typography>\n            <TableContainer component={Paper}>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Product</TableCell>\n                    <TableCell align=\"right\">Units Sold</TableCell>\n                    <TableCell align=\"right\">Total Revenue</TableCell>\n                    <TableCell align=\"right\">Average Price</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {productSummary.map(([productId, data]) => (\n                    <TableRow key={productId}>\n                      <TableCell>{data.name}</TableCell>\n                      <TableCell align=\"right\">{data.count}</TableCell>\n                      <TableCell align=\"right\">\n                        €{data.totalRevenue.toFixed(2)}\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        €{(data.totalRevenue / data.count).toFixed(2)}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </Box>\n\n          <TableContainer component={Paper}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Store</TableCell>\n                  <TableCell>Date</TableCell>\n                  <TableCell>Time</TableCell>\n                  <TableCell>Product</TableCell>\n                  <TableCell>Price</TableCell>\n                  <TableCell>Actions</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {sales && sales.length > 0 ? (\n                  sales.map((sale) => (\n                    <TableRow key={sale.id}>\n                      <TableCell>{sale.store?.Name || 'Unknown Store'}</TableCell>\n                      <TableCell>{sale.Time ? new Date(sale.Time).toLocaleDateString('es-ES') : 'N/A'}</TableCell>\n                      <TableCell>{sale.Time ? new Date(sale.Time).toLocaleTimeString('es-ES') : 'N/A'}</TableCell>\n                      <TableCell>{sale.product?.Product || 'N/A'}</TableCell>\n                      <TableCell>€{sale.Price?.toFixed(2) || '0.00'}</TableCell>\n                      <TableCell>\n                        <Button\n                          variant=\"contained\"\n                          onClick={() => handleDownloadInvoice(sale)}\n                          size=\"small\"\n                        >\n                          Download Invoice\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                ) : (\n                  <TableRow>\n                    <TableCell colSpan={6} align=\"center\">\n                      No sales records found\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Box>\n      </Box>\n    </Box>\n  );\n}\n\nexport default AdminSales; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}