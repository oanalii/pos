{"ast":null,"code":"var _jsxFileName = \"/Users/oan/Desktop/POS/pos-frontend/src/components/CloseCajaPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STARTING_FLOAT = 150;\nconst CloseCajaPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const storeId = localStorage.getItem('storeId');\n\n  // Data fetching states\n  const [salesData, setSalesData] = useState({\n    cash: 0,\n    card: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // Form input states\n  const [isCardCorrect, setCardCorrect] = useState(false);\n  const [isCashCorrect, setCashCorrect] = useState(false);\n  const [expenses, setExpenses] = useState([{\n    concept: '',\n    description: '',\n    price: ''\n  }]);\n  const [notes, setNotes] = useState('');\n  useEffect(() => {\n    const fetchTodaySales = async () => {\n      setLoading(true);\n      try {\n        var _response$data;\n        const todayStart = new Date();\n        todayStart.setHours(0, 0, 0, 0);\n        const response = await API.get('/api/sales', {\n          params: {\n            'filters[store][id][$eq]': storeId,\n            'filters[Time][$gte]': todayStart.toISOString()\n          }\n        });\n        const todaySales = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data) || [];\n        const cashTotal = todaySales.filter(s => {\n          var _s$paymentmethod;\n          return ((_s$paymentmethod = s.paymentmethod) === null || _s$paymentmethod === void 0 ? void 0 : _s$paymentmethod.toLowerCase()) === 'cash';\n        }).reduce((sum, s) => sum + (parseFloat(s.Price) || 0), 0);\n        const cardTotal = todaySales.filter(s => {\n          var _s$paymentmethod2;\n          return ((_s$paymentmethod2 = s.paymentmethod) === null || _s$paymentmethod2 === void 0 ? void 0 : _s$paymentmethod2.toLowerCase()) === 'card';\n        }).reduce((sum, s) => sum + (parseFloat(s.Price) || 0), 0);\n        setSalesData({\n          cash: cashTotal,\n          card: cardTotal\n        });\n      } catch (err) {\n        setError('Failed to fetch sales data. Please try again.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (storeId) {\n      fetchTodaySales();\n    } else {\n      setError('No store ID found. Please log in again.');\n      setLoading(false);\n    }\n  }, [storeId]);\n  const totalExpenses = useMemo(() => {\n    return expenses.reduce((total, exp) => total + (parseFloat(exp.price) || 0), 0);\n  }, [expenses]);\n  const expectedCashInCaja = useMemo(() => {\n    return salesData.cash + STARTING_FLOAT - totalExpenses;\n  }, [salesData.cash, totalExpenses]);\n  const handleAddExpense = () => {\n    setExpenses([...expenses, {\n      concept: '',\n      description: '',\n      price: ''\n    }]);\n  };\n  const handleExpenseChange = (index, field, value) => {\n    const newExpenses = [...expenses];\n    newExpenses[index][field] = value;\n    setExpenses(newExpenses);\n  };\n  const handleRemoveExpense = index => {\n    const newExpenses = expenses.filter((_, i) => i !== index);\n    setExpenses(newExpenses);\n  };\n  const handleFinishVerification = () => {\n    const finalData = {\n      storeId,\n      closureDate: new Date().toISOString(),\n      expectedCashSales: salesData.cash,\n      expectedCardSales: salesData.card,\n      isCardCorrect,\n      startingFloat: STARTING_FLOAT,\n      expenses,\n      totalExpenses,\n      expectedCashInCaja,\n      isCashCorrect,\n      notes\n    };\n\n    // For now, we just log it. Later, this will send to the backend.\n    console.log('--- Counter Closure Data ---');\n    console.log(finalData);\n    alert('Verification data has been logged to the console. Backend integration is pending.');\n    navigate('/pos');\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading daily sales data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 53\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 51\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Close Counter for Store \", storeId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/pos'),\n        style: styles.backButton,\n        children: \"Back to POS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: styles.main,\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.widget,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.widgetTitle,\n          children: \"Total Sales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.salesGrid,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.subWidget,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Cash Sales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.bigNumber,\n              children: [\"\\u20AC\", salesData.cash.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.subWidget,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Total Card Sales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.bigNumber,\n              children: [\"\\u20AC\", salesData.card.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.checkboxContainer,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"card-correct\",\n                checked: isCardCorrect,\n                onChange: e => setCardCorrect(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"card-correct\",\n                children: \"Is this correct?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.widget,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.widgetTitle,\n          children: \"Verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.subWidget,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Total Cash in Caja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.calculation,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Cash Sales: \\u20AC\", salesData.cash.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"- Expenses: \\u20AC\", totalExpenses.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"+ Starting Float: \\u20AC\", STARTING_FLOAT.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: styles.hr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              style: styles.bigNumber,\n              children: [\"= \\u20AC\", expectedCashInCaja.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.checkboxContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"cash-correct\",\n              checked: isCashCorrect,\n              onChange: e => setCashCorrect(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cash-correct\",\n              children: \"Is this the correct amount in the cash drawer?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.widget,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...styles.widgetTitleContainer,\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: styles.widgetTitle,\n            children: \"Expenses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddExpense,\n            style: styles.addButton,\n            children: \"+ Add Expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.expenseHeader,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 2\n            },\n            children: \"Concept\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 3\n            },\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1,\n              textAlign: 'right'\n            },\n            children: \"Price (\\u20AC)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '40px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), expenses.map((exp, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.expenseRow,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"e.g., Water Bottle\",\n            value: exp.concept,\n            onChange: e => handleExpenseChange(index, 'concept', e.target.value),\n            style: {\n              ...styles.input,\n              flex: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Details about the expense\",\n            value: exp.description,\n            onChange: e => handleExpenseChange(index, 'description', e.target.value),\n            style: {\n              ...styles.input,\n              flex: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"0.00\",\n            value: exp.price,\n            onChange: e => handleExpenseChange(index, 'price', e.target.value),\n            style: {\n              ...styles.input,\n              flex: 1,\n              textAlign: 'right'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRemoveExpense(index),\n            style: styles.removeButton,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: styles.widget,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.widgetTitle,\n          children: \"Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: notes,\n          onChange: e => setNotes(e.target.value),\n          style: styles.textarea,\n          placeholder: \"Add any relevant notes for the day...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        style: styles.footer,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleFinishVerification,\n          style: styles.finishButton,\n          children: \"Finish Verification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s(CloseCajaPage, \"V4amaWitRrBjhX3pJ3Q9hHgpISk=\", false, function () {\n  return [useNavigate];\n});\n_c = CloseCajaPage;\nconst styles = {\n  container: {\n    padding: '32px',\n    maxWidth: '1200px',\n    margin: '0 auto',\n    fontFamily: 'system-ui',\n    backgroundColor: '#f9fafb'\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '32px',\n    borderBottom: '1px solid #e5e7eb',\n    paddingBottom: '16px'\n  },\n  backButton: {\n    padding: '10px 16px',\n    border: '1px solid #d1d5db',\n    borderRadius: '6px',\n    cursor: 'pointer'\n  },\n  main: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '32px'\n  },\n  widget: {\n    backgroundColor: 'white',\n    padding: '24px',\n    borderRadius: '8px',\n    border: '1px solid #e5e7eb',\n    boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\n  },\n  widgetTitleContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  widgetTitle: {\n    fontSize: '18px',\n    fontWeight: '600',\n    color: '#111827',\n    margin: 0\n  },\n  salesGrid: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr',\n    gap: '24px',\n    marginTop: '16px'\n  },\n  subWidget: {\n    padding: '20px',\n    backgroundColor: '#f9fafb',\n    borderRadius: '6px',\n    border: '1px solid #e5e7eb'\n  },\n  bigNumber: {\n    fontSize: '28px',\n    fontWeight: '700',\n    color: '#1f2937',\n    margin: '8px 0'\n  },\n  checkboxContainer: {\n    marginTop: '16px',\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px'\n  },\n  calculation: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '8px',\n    marginTop: '16px',\n    fontSize: '14px'\n  },\n  hr: {\n    border: 'none',\n    borderTop: '1px solid #d1d5db',\n    margin: '8px 0'\n  },\n  addButton: {\n    padding: '8px 12px',\n    border: 'none',\n    borderRadius: '6px',\n    backgroundColor: '#3b82f6',\n    color: 'white',\n    cursor: 'pointer',\n    fontWeight: 500\n  },\n  expenseHeader: {\n    display: 'flex',\n    gap: '16px',\n    fontWeight: 600,\n    color: '#4b5563',\n    paddingBottom: '8px',\n    borderBottom: '1px solid #e5e7eb',\n    marginBottom: '8px',\n    fontSize: '14px'\n  },\n  expenseRow: {\n    display: 'flex',\n    gap: '16px',\n    alignItems: 'center',\n    marginBottom: '8px'\n  },\n  input: {\n    padding: '8px 12px',\n    border: '1px solid #d1d5db',\n    borderRadius: '6px'\n  },\n  removeButton: {\n    width: '32px',\n    height: '32px',\n    border: '1px solid #d1d5db',\n    borderRadius: '50%',\n    backgroundColor: 'white',\n    cursor: 'pointer',\n    color: '#ef4444',\n    fontSize: '16px'\n  },\n  textarea: {\n    width: '100%',\n    minHeight: '100px',\n    padding: '8px 12px',\n    border: '1px solid #d1d5db',\n    borderRadius: '6px',\n    marginTop: '16px'\n  },\n  footer: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n    marginTop: '16px'\n  },\n  finishButton: {\n    padding: '12px 24px',\n    border: 'none',\n    borderRadius: '6px',\n    backgroundColor: '#16a34a',\n    color: 'white',\n    cursor: 'pointer',\n    fontWeight: 600,\n    fontSize: '16px'\n  }\n};\nexport default CloseCajaPage;\nvar _c;\n$RefreshReg$(_c, \"CloseCajaPage\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useNavigate","API","jsxDEV","_jsxDEV","STARTING_FLOAT","CloseCajaPage","_s","navigate","storeId","localStorage","getItem","salesData","setSalesData","cash","card","loading","setLoading","error","setError","isCardCorrect","setCardCorrect","isCashCorrect","setCashCorrect","expenses","setExpenses","concept","description","price","notes","setNotes","fetchTodaySales","_response$data","todayStart","Date","setHours","response","get","params","toISOString","todaySales","data","cashTotal","filter","s","_s$paymentmethod","paymentmethod","toLowerCase","reduce","sum","parseFloat","Price","cardTotal","_s$paymentmethod2","err","console","totalExpenses","total","exp","expectedCashInCaja","handleAddExpense","handleExpenseChange","index","field","value","newExpenses","handleRemoveExpense","_","i","handleFinishVerification","finalData","closureDate","expectedCashSales","expectedCardSales","startingFloat","log","alert","style","styles","container","children","fileName","_jsxFileName","lineNumber","columnNumber","color","header","onClick","backButton","main","widget","widgetTitle","salesGrid","subWidget","bigNumber","toFixed","checkboxContainer","type","id","checked","onChange","e","target","htmlFor","calculation","hr","widgetTitleContainer","marginBottom","addButton","expenseHeader","flex","textAlign","width","map","expenseRow","placeholder","input","removeButton","textarea","footer","finishButton","_c","padding","maxWidth","margin","fontFamily","backgroundColor","display","justifyContent","alignItems","borderBottom","paddingBottom","border","borderRadius","cursor","flexDirection","gap","boxShadow","fontSize","fontWeight","gridTemplateColumns","marginTop","borderTop","height","minHeight","$RefreshReg$"],"sources":["/Users/oan/Desktop/POS/pos-frontend/src/components/CloseCajaPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\n\nconst STARTING_FLOAT = 150;\n\nconst CloseCajaPage = () => {\n  const navigate = useNavigate();\n  const storeId = localStorage.getItem('storeId');\n\n  // Data fetching states\n  const [salesData, setSalesData] = useState({ cash: 0, card: 0 });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // Form input states\n  const [isCardCorrect, setCardCorrect] = useState(false);\n  const [isCashCorrect, setCashCorrect] = useState(false);\n  const [expenses, setExpenses] = useState([{ concept: '', description: '', price: '' }]);\n  const [notes, setNotes] = useState('');\n\n  useEffect(() => {\n    const fetchTodaySales = async () => {\n      setLoading(true);\n      try {\n        const todayStart = new Date();\n        todayStart.setHours(0, 0, 0, 0);\n\n        const response = await API.get('/api/sales', {\n          params: {\n            'filters[store][id][$eq]': storeId,\n            'filters[Time][$gte]': todayStart.toISOString(),\n          },\n        });\n\n        const todaySales = response.data?.data || [];\n        const cashTotal = todaySales\n          .filter(s => s.paymentmethod?.toLowerCase() === 'cash')\n          .reduce((sum, s) => sum + (parseFloat(s.Price) || 0), 0);\n        const cardTotal = todaySales\n          .filter(s => s.paymentmethod?.toLowerCase() === 'card')\n          .reduce((sum, s) => sum + (parseFloat(s.Price) || 0), 0);\n        \n        setSalesData({ cash: cashTotal, card: cardTotal });\n      } catch (err) {\n        setError('Failed to fetch sales data. Please try again.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (storeId) {\n      fetchTodaySales();\n    } else {\n      setError('No store ID found. Please log in again.');\n      setLoading(false);\n    }\n  }, [storeId]);\n\n  const totalExpenses = useMemo(() => {\n    return expenses.reduce((total, exp) => total + (parseFloat(exp.price) || 0), 0);\n  }, [expenses]);\n\n  const expectedCashInCaja = useMemo(() => {\n    return salesData.cash + STARTING_FLOAT - totalExpenses;\n  }, [salesData.cash, totalExpenses]);\n\n  const handleAddExpense = () => {\n    setExpenses([...expenses, { concept: '', description: '', price: '' }]);\n  };\n\n  const handleExpenseChange = (index, field, value) => {\n    const newExpenses = [...expenses];\n    newExpenses[index][field] = value;\n    setExpenses(newExpenses);\n  };\n  \n  const handleRemoveExpense = (index) => {\n    const newExpenses = expenses.filter((_, i) => i !== index);\n    setExpenses(newExpenses);\n  }\n\n  const handleFinishVerification = () => {\n    const finalData = {\n      storeId,\n      closureDate: new Date().toISOString(),\n      expectedCashSales: salesData.cash,\n      expectedCardSales: salesData.card,\n      isCardCorrect,\n      startingFloat: STARTING_FLOAT,\n      expenses,\n      totalExpenses,\n      expectedCashInCaja,\n      isCashCorrect,\n      notes,\n    };\n    \n    // For now, we just log it. Later, this will send to the backend.\n    console.log('--- Counter Closure Data ---');\n    console.log(finalData);\n    alert('Verification data has been logged to the console. Backend integration is pending.');\n    navigate('/pos');\n  };\n\n  if (loading) return <div style={styles.container}><p>Loading daily sales data...</p></div>;\n  if (error) return <div style={styles.container}><p style={{color: 'red'}}>{error}</p></div>;\n\n  return (\n    <div style={styles.container}>\n      <header style={styles.header}>\n        <h1>Close Counter for Store {storeId}</h1>\n        <button onClick={() => navigate('/pos')} style={styles.backButton}>Back to POS</button>\n      </header>\n      \n      <main style={styles.main}>\n        {/* --- Sales Widget --- */}\n        <section style={styles.widget}>\n          <h2 style={styles.widgetTitle}>Total Sales</h2>\n          <div style={styles.salesGrid}>\n            <div style={styles.subWidget}>\n              <h3>Total Cash Sales</h3>\n              <p style={styles.bigNumber}>€{salesData.cash.toFixed(2)}</p>\n            </div>\n            <div style={styles.subWidget}>\n              <h3>Total Card Sales</h3>\n              <p style={styles.bigNumber}>€{salesData.card.toFixed(2)}</p>\n              <div style={styles.checkboxContainer}>\n                <input type=\"checkbox\" id=\"card-correct\" checked={isCardCorrect} onChange={(e) => setCardCorrect(e.target.checked)} />\n                <label htmlFor=\"card-correct\">Is this correct?</label>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* --- Verification Widget --- */}\n        <section style={styles.widget}>\n          <h2 style={styles.widgetTitle}>Verification</h2>\n          <div style={styles.subWidget}>\n            <h3>Total Cash in Caja</h3>\n            <div style={styles.calculation}>\n              <span>Cash Sales: €{salesData.cash.toFixed(2)}</span>\n              <span>- Expenses: €{totalExpenses.toFixed(2)}</span>\n              <span>+ Starting Float: €{STARTING_FLOAT.toFixed(2)}</span>\n              <hr style={styles.hr} />\n              <strong style={styles.bigNumber}>= €{expectedCashInCaja.toFixed(2)}</strong>\n            </div>\n            <div style={styles.checkboxContainer}>\n                <input type=\"checkbox\" id=\"cash-correct\" checked={isCashCorrect} onChange={(e) => setCashCorrect(e.target.checked)} />\n                <label htmlFor=\"cash-correct\">Is this the correct amount in the cash drawer?</label>\n              </div>\n          </div>\n        </section>\n\n        {/* --- Expenses Widget --- */}\n        <section style={styles.widget}>\n          <div style={{...styles.widgetTitleContainer, marginBottom: '20px'}}>\n            <h2 style={styles.widgetTitle}>Expenses</h2>\n            <button onClick={handleAddExpense} style={styles.addButton}>+ Add Expense</button>\n          </div>\n          <div style={styles.expenseHeader}>\n            <div style={{flex: 2}}>Concept</div>\n            <div style={{flex: 3}}>Description</div>\n            <div style={{flex: 1, textAlign: 'right'}}>Price (€)</div>\n            <div style={{width: '40px'}}></div>\n          </div>\n          {expenses.map((exp, index) => (\n            <div key={index} style={styles.expenseRow}>\n              <input type=\"text\" placeholder=\"e.g., Water Bottle\" value={exp.concept} onChange={e => handleExpenseChange(index, 'concept', e.target.value)} style={{...styles.input, flex: 2}} />\n              <input type=\"text\" placeholder=\"Details about the expense\" value={exp.description} onChange={e => handleExpenseChange(index, 'description', e.target.value)} style={{...styles.input, flex: 3}} />\n              <input type=\"number\" placeholder=\"0.00\" value={exp.price} onChange={e => handleExpenseChange(index, 'price', e.target.value)} style={{...styles.input, flex: 1, textAlign: 'right'}}/>\n              <button onClick={() => handleRemoveExpense(index)} style={styles.removeButton}>×</button>\n            </div>\n          ))}\n        </section>\n        \n        {/* --- Notes Widget --- */}\n        <section style={styles.widget}>\n          <h2 style={styles.widgetTitle}>Notes</h2>\n          <textarea value={notes} onChange={e => setNotes(e.target.value)} style={styles.textarea} placeholder=\"Add any relevant notes for the day...\"></textarea>\n        </section>\n\n        <footer style={styles.footer}>\n          <button onClick={handleFinishVerification} style={styles.finishButton}>Finish Verification</button>\n        </footer>\n      </main>\n    </div>\n  );\n};\n\nconst styles = {\n  container: { padding: '32px', maxWidth: '1200px', margin: '0 auto', fontFamily: 'system-ui', backgroundColor: '#f9fafb' },\n  header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '32px', borderBottom: '1px solid #e5e7eb', paddingBottom: '16px' },\n  backButton: { padding: '10px 16px', border: '1px solid #d1d5db', borderRadius: '6px', cursor: 'pointer' },\n  main: { display: 'flex', flexDirection: 'column', gap: '32px' },\n  widget: { backgroundColor: 'white', padding: '24px', borderRadius: '8px', border: '1px solid #e5e7eb', boxShadow: '0 1px 3px rgba(0,0,0,0.05)' },\n  widgetTitleContainer: { display: 'flex', justifyContent: 'space-between', alignItems: 'center' },\n  widgetTitle: { fontSize: '18px', fontWeight: '600', color: '#111827', margin: 0 },\n  salesGrid: { display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px', marginTop: '16px' },\n  subWidget: { padding: '20px', backgroundColor: '#f9fafb', borderRadius: '6px', border: '1px solid #e5e7eb' },\n  bigNumber: { fontSize: '28px', fontWeight: '700', color: '#1f2937', margin: '8px 0' },\n  checkboxContainer: { marginTop: '16px', display: 'flex', alignItems: 'center', gap: '8px' },\n  calculation: { display: 'flex', flexDirection: 'column', gap: '8px', marginTop: '16px', fontSize: '14px' },\n  hr: { border: 'none', borderTop: '1px solid #d1d5db', margin: '8px 0' },\n  addButton: { padding: '8px 12px', border: 'none', borderRadius: '6px', backgroundColor: '#3b82f6', color: 'white', cursor: 'pointer', fontWeight: 500 },\n  expenseHeader: { display: 'flex', gap: '16px', fontWeight: 600, color: '#4b5563', paddingBottom: '8px', borderBottom: '1px solid #e5e7eb', marginBottom: '8px', fontSize: '14px' },\n  expenseRow: { display: 'flex', gap: '16px', alignItems: 'center', marginBottom: '8px' },\n  input: { padding: '8px 12px', border: '1px solid #d1d5db', borderRadius: '6px' },\n  removeButton: { width: '32px', height: '32px', border: '1px solid #d1d5db', borderRadius: '50%', backgroundColor: 'white', cursor: 'pointer', color: '#ef4444', fontSize: '16px' },\n  textarea: { width: '100%', minHeight: '100px', padding: '8px 12px', border: '1px solid #d1d5db', borderRadius: '6px', marginTop: '16px' },\n  footer: { display: 'flex', justifyContent: 'flex-end', marginTop: '16px' },\n  finishButton: { padding: '12px 24px', border: 'none', borderRadius: '6px', backgroundColor: '#16a34a', color: 'white', cursor: 'pointer', fontWeight: 600, fontSize: '16px' },\n};\n\nexport default CloseCajaPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}